import{c as As,_ as Rs,r as Ns,o as Fs,a as Ls,b as zs,d as Gs,e as Bs}from"./index.b8ea97f4.js";var Uo={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(i,r){(function(a,n){i.exports=n()})(As,function(){for(var a=function(e,t,o){return t===void 0&&(t=0),o===void 0&&(o=1),e<t?t:e>o?o:e},n=a,u=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=n(e[t],0,255)):t===3&&(e[t]=n(e[t],0,1));return e},v={},g=0,b=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];g<b.length;g+=1){var S=b[g];v["[object "+S+"]"]=S.toLowerCase()}var k=function(e){return v[Object.prototype.toString.call(e)]||"object"},I=k,L=function(e,t){return t===void 0&&(t=null),e.length>=3?Array.prototype.slice.call(e):I(e[0])=="object"&&t?t.split("").filter(function(o){return e[0][o]!==void 0}).map(function(o){return e[0][o]}):e[0]},K=k,E=function(e){if(e.length<2)return null;var t=e.length-1;return K(e[t])=="string"?e[t].toLowerCase():null},z=Math.PI,$={clip_rgb:u,limit:a,type:k,unpack:L,last:E,PI:z,TWOPI:z*2,PITHIRD:z/3,DEG2RAD:z/180,RAD2DEG:180/z},F={format:{},autodetect:[]},ir=$.last,Z=$.clip_rgb,V=$.type,tr=F,$r=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];var c=this;if(V(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var s=ir(t),l=!1;if(!s){l=!0,tr.sorted||(tr.autodetect=tr.autodetect.sort(function(m,T){return T.p-m.p}),tr.sorted=!0);for(var f=0,h=tr.autodetect;f<h.length;f+=1){var d=h[f];if(s=d.test.apply(d,t),s)break}}if(tr.format[s]){var p=tr.format[s].apply(null,l?t:t.slice(0,-1));c._rgb=Z(p)}else throw new Error("unknown format: "+t);c._rgb.length===3&&c._rgb.push(1)};$r.prototype.toString=function(){return V(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var R=$r,Xr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xr.Color,[null].concat(e)))};Xr.Color=R,Xr.version="2.4.2";var ar=Xr,ur=$.unpack,ne=Math.max,Gr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=ur(e,"rgb"),c=o[0],s=o[1],l=o[2];c=c/255,s=s/255,l=l/255;var f=1-ne(c,ne(s,l)),h=f<1?1/(1-f):0,d=(1-c-f)*h,p=(1-s-f)*h,m=(1-l-f)*h;return[d,p,m,f]},Hr=Gr,dt=$.unpack,gt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=dt(e,"cmyk");var o=e[0],c=e[1],s=e[2],l=e[3],f=e.length>4?e[4]:1;return l===1?[0,0,0,f]:[o>=1?0:255*(1-o)*(1-l),c>=1?0:255*(1-c)*(1-l),s>=1?0:255*(1-s)*(1-l),f]},Be=gt,y=ar,x=R,P=F,j=$.unpack,A=$.type,G=Hr;x.prototype.cmyk=function(){return G(this._rgb)},y.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(x,[null].concat(e,["cmyk"])))},P.format.cmyk=Be,P.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=j(e,"cmyk"),A(e)==="array"&&e.length===4)return"cmyk"}});var Y=$.unpack,lr=$.last,or=function(e){return Math.round(e*100)/100},yr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Y(e,"hsla"),c=lr(e)||"lsa";return o[0]=or(o[0]||0),o[1]=or(o[1]*100)+"%",o[2]=or(o[2]*100)+"%",c==="hsla"||o.length>3&&o[3]<1?(o[3]=o.length>3?o[3]:1,c="hsla"):o.length=3,c+"("+o.join(",")+")"},Br=yr,xr=$.unpack,fr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=xr(e,"rgba");var o=e[0],c=e[1],s=e[2];o/=255,c/=255,s/=255;var l=Math.min(o,c,s),f=Math.max(o,c,s),h=(f+l)/2,d,p;return f===l?(d=0,p=Number.NaN):d=h<.5?(f-l)/(f+l):(f-l)/(2-f-l),o==f?p=(c-s)/(f-l):c==f?p=2+(s-o)/(f-l):s==f&&(p=4+(o-c)/(f-l)),p*=60,p<0&&(p+=360),e.length>3&&e[3]!==void 0?[p,d,h,e[3]]:[p,d,h]},Dr=fr,qr=$.unpack,Or=$.last,Nr=Br,pt=Dr,le=Math.round,Mi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=qr(e,"rgba"),c=Or(e)||"rgb";return c.substr(0,3)=="hsl"?Nr(pt(o),c):(o[0]=le(o[0]),o[1]=le(o[1]),o[2]=le(o[2]),(c==="rgba"||o.length>3&&o[3]<1)&&(o[3]=o.length>3?o[3]:1,c="rgba"),c+"("+o.slice(0,c==="rgb"?3:4).join(",")+")")},Ci=Mi,ji=$.unpack,bt=Math.round,Ii=function(){for(var e,t=[],o=arguments.length;o--;)t[o]=arguments[o];t=ji(t,"hsl");var c=t[0],s=t[1],l=t[2],f,h,d;if(s===0)f=h=d=l*255;else{var p=[0,0,0],m=[0,0,0],T=l<.5?l*(1+s):l+s-l*s,w=2*l-T,M=c/360;p[0]=M+1/3,p[1]=M,p[2]=M-1/3;for(var O=0;O<3;O++)p[O]<0&&(p[O]+=1),p[O]>1&&(p[O]-=1),6*p[O]<1?m[O]=w+(T-w)*6*p[O]:2*p[O]<1?m[O]=T:3*p[O]<2?m[O]=w+(T-w)*(2/3-p[O])*6:m[O]=w;e=[bt(m[0]*255),bt(m[1]*255),bt(m[2]*255)],f=e[0],h=e[1],d=e[2]}return t.length>3?[f,h,d,t[3]]:[f,h,d,1]},On=Ii,Mn=On,Cn=F,jn=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,In=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,En=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,An=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Rn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Nn=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Fn=Math.round,Ln=function(e){e=e.toLowerCase().trim();var t;if(Cn.format.named)try{return Cn.format.named(e)}catch{}if(t=e.match(jn)){for(var o=t.slice(1,4),c=0;c<3;c++)o[c]=+o[c];return o[3]=1,o}if(t=e.match(In)){for(var s=t.slice(1,5),l=0;l<4;l++)s[l]=+s[l];return s}if(t=e.match(En)){for(var f=t.slice(1,4),h=0;h<3;h++)f[h]=Fn(f[h]*2.55);return f[3]=1,f}if(t=e.match(An)){for(var d=t.slice(1,5),p=0;p<3;p++)d[p]=Fn(d[p]*2.55);return d[3]=+d[3],d}if(t=e.match(Rn)){var m=t.slice(1,4);m[1]*=.01,m[2]*=.01;var T=Mn(m);return T[3]=1,T}if(t=e.match(Nn)){var w=t.slice(1,4);w[1]*=.01,w[2]*=.01;var M=Mn(w);return M[3]=+t[4],M}};Ln.test=function(e){return jn.test(e)||In.test(e)||En.test(e)||An.test(e)||Rn.test(e)||Nn.test(e)};var Ei=Ln,Ai=ar,zn=R,Gn=F,Ri=$.type,Ni=Ci,Bn=Ei;zn.prototype.css=function(e){return Ni(this._rgb,e)},Ai.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(zn,[null].concat(e,["css"])))},Gn.format.css=Bn,Gn.autodetect.push({p:5,test:function(e){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];if(!t.length&&Ri(e)==="string"&&Bn.test(e))return"css"}});var Dn=R,Fi=ar,Li=F,zi=$.unpack;Li.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=zi(e,"rgba");return o[0]*=255,o[1]*=255,o[2]*=255,o},Fi.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dn,[null].concat(e,["gl"])))},Dn.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Gi=$.unpack,Bi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Gi(e,"rgb"),c=o[0],s=o[1],l=o[2],f=Math.min(c,s,l),h=Math.max(c,s,l),d=h-f,p=d*100/255,m=f/(255-d)*100,T;return d===0?T=Number.NaN:(c===h&&(T=(s-l)/d),s===h&&(T=2+(l-c)/d),l===h&&(T=4+(c-s)/d),T*=60,T<0&&(T+=360)),[T,p,m]},Di=Bi,qi=$.unpack,Ui=Math.floor,Yi=function(){for(var e,t,o,c,s,l,f=[],h=arguments.length;h--;)f[h]=arguments[h];f=qi(f,"hcg");var d=f[0],p=f[1],m=f[2],T,w,M;m=m*255;var O=p*255;if(p===0)T=w=M=m;else{d===360&&(d=0),d>360&&(d-=360),d<0&&(d+=360),d/=60;var B=Ui(d),U=d-B,X=m*(1-p),J=X+O*(1-U),gr=X+O*U,hr=X+O;switch(B){case 0:e=[hr,gr,X],T=e[0],w=e[1],M=e[2];break;case 1:t=[J,hr,X],T=t[0],w=t[1],M=t[2];break;case 2:o=[X,hr,gr],T=o[0],w=o[1],M=o[2];break;case 3:c=[X,J,hr],T=c[0],w=c[1],M=c[2];break;case 4:s=[gr,X,hr],T=s[0],w=s[1],M=s[2];break;case 5:l=[hr,X,J],T=l[0],w=l[1],M=l[2];break}}return[T,w,M,f.length>3?f[3]:1]},Wi=Yi,Vi=$.unpack,Xi=$.type,Hi=ar,qn=R,Un=F,Ki=Di;qn.prototype.hcg=function(){return Ki(this._rgb)},Hi.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(qn,[null].concat(e,["hcg"])))},Un.format.hcg=Wi,Un.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Vi(e,"hcg"),Xi(e)==="array"&&e.length===3)return"hcg"}});var Zi=$.unpack,Ji=$.last,De=Math.round,Qi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Zi(e,"rgba"),c=o[0],s=o[1],l=o[2],f=o[3],h=Ji(e)||"auto";f===void 0&&(f=1),h==="auto"&&(h=f<1?"rgba":"rgb"),c=De(c),s=De(s),l=De(l);var d=c<<16|s<<8|l,p="000000"+d.toString(16);p=p.substr(p.length-6);var m="0"+De(f*255).toString(16);switch(m=m.substr(m.length-2),h.toLowerCase()){case"rgba":return"#"+p+m;case"argb":return"#"+m+p;default:return"#"+p}},Yn=Qi,ru=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,eu=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,tu=function(e){if(e.match(ru)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16),o=t>>16,c=t>>8&255,s=t&255;return[o,c,s,1]}if(e.match(eu)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var l=parseInt(e,16),f=l>>24&255,h=l>>16&255,d=l>>8&255,p=Math.round((l&255)/255*100)/100;return[f,h,d,p]}throw new Error("unknown hex color: "+e)},Wn=tu,nu=ar,Vn=R,au=$.type,Xn=F,ou=Yn;Vn.prototype.hex=function(e){return ou(this._rgb,e)},nu.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Vn,[null].concat(e,["hex"])))},Xn.format.hex=Wn,Xn.autodetect.push({p:4,test:function(e){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];if(!t.length&&au(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var iu=$.unpack,Hn=$.TWOPI,uu=Math.min,cu=Math.sqrt,fu=Math.acos,su=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=iu(e,"rgb"),c=o[0],s=o[1],l=o[2];c/=255,s/=255,l/=255;var f,h=uu(c,s,l),d=(c+s+l)/3,p=d>0?1-h/d:0;return p===0?f=NaN:(f=(c-s+(c-l))/2,f/=cu((c-s)*(c-s)+(c-l)*(s-l)),f=fu(f),l>s&&(f=Hn-f),f/=Hn),[f*360,p,d]},lu=su,vu=$.unpack,yt=$.limit,ve=$.TWOPI,mt=$.PITHIRD,he=Math.cos,hu=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=vu(e,"hsi");var o=e[0],c=e[1],s=e[2],l,f,h;return isNaN(o)&&(o=0),isNaN(c)&&(c=0),o>360&&(o-=360),o<0&&(o+=360),o/=360,o<1/3?(h=(1-c)/3,l=(1+c*he(ve*o)/he(mt-ve*o))/3,f=1-(h+l)):o<2/3?(o-=1/3,l=(1-c)/3,f=(1+c*he(ve*o)/he(mt-ve*o))/3,h=1-(l+f)):(o-=2/3,f=(1-c)/3,h=(1+c*he(ve*o)/he(mt-ve*o))/3,l=1-(f+h)),l=yt(s*l*3),f=yt(s*f*3),h=yt(s*h*3),[l*255,f*255,h*255,e.length>3?e[3]:1]},du=hu,gu=$.unpack,pu=$.type,bu=ar,Kn=R,Zn=F,yu=lu;Kn.prototype.hsi=function(){return yu(this._rgb)},bu.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Kn,[null].concat(e,["hsi"])))},Zn.format.hsi=du,Zn.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=gu(e,"hsi"),pu(e)==="array"&&e.length===3)return"hsi"}});var mu=$.unpack,wu=$.type,$u=ar,Jn=R,Qn=F,_u=Dr;Jn.prototype.hsl=function(){return _u(this._rgb)},$u.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Jn,[null].concat(e,["hsl"])))},Qn.format.hsl=On,Qn.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=mu(e,"hsl"),wu(e)==="array"&&e.length===3)return"hsl"}});var Su=$.unpack,xu=Math.min,ku=Math.max,Tu=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Su(e,"rgb");var o=e[0],c=e[1],s=e[2],l=xu(o,c,s),f=ku(o,c,s),h=f-l,d,p,m;return m=f/255,f===0?(d=Number.NaN,p=0):(p=h/f,o===f&&(d=(c-s)/h),c===f&&(d=2+(s-o)/h),s===f&&(d=4+(o-c)/h),d*=60,d<0&&(d+=360)),[d,p,m]},Pu=Tu,Ou=$.unpack,Mu=Math.floor,Cu=function(){for(var e,t,o,c,s,l,f=[],h=arguments.length;h--;)f[h]=arguments[h];f=Ou(f,"hsv");var d=f[0],p=f[1],m=f[2],T,w,M;if(m*=255,p===0)T=w=M=m;else{d===360&&(d=0),d>360&&(d-=360),d<0&&(d+=360),d/=60;var O=Mu(d),B=d-O,U=m*(1-p),X=m*(1-p*B),J=m*(1-p*(1-B));switch(O){case 0:e=[m,J,U],T=e[0],w=e[1],M=e[2];break;case 1:t=[X,m,U],T=t[0],w=t[1],M=t[2];break;case 2:o=[U,m,J],T=o[0],w=o[1],M=o[2];break;case 3:c=[U,X,m],T=c[0],w=c[1],M=c[2];break;case 4:s=[J,U,m],T=s[0],w=s[1],M=s[2];break;case 5:l=[m,U,X],T=l[0],w=l[1],M=l[2];break}}return[T,w,M,f.length>3?f[3]:1]},ju=Cu,Iu=$.unpack,Eu=$.type,Au=ar,ra=R,ea=F,Ru=Pu;ra.prototype.hsv=function(){return Ru(this._rgb)},Au.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ra,[null].concat(e,["hsv"])))},ea.format.hsv=ju,ea.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Iu(e,"hsv"),Eu(e)==="array"&&e.length===3)return"hsv"}});var qe={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},de=qe,Nu=$.unpack,ta=Math.pow,Fu=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Nu(e,"rgb"),c=o[0],s=o[1],l=o[2],f=Lu(c,s,l),h=f[0],d=f[1],p=f[2],m=116*d-16;return[m<0?0:m,500*(h-d),200*(d-p)]},wt=function(e){return(e/=255)<=.04045?e/12.92:ta((e+.055)/1.055,2.4)},$t=function(e){return e>de.t3?ta(e,1/3):e/de.t2+de.t0},Lu=function(e,t,o){e=wt(e),t=wt(t),o=wt(o);var c=$t((.4124564*e+.3575761*t+.1804375*o)/de.Xn),s=$t((.2126729*e+.7151522*t+.072175*o)/de.Yn),l=$t((.0193339*e+.119192*t+.9503041*o)/de.Zn);return[c,s,l]},na=Fu,ge=qe,zu=$.unpack,Gu=Math.pow,Bu=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=zu(e,"lab");var o=e[0],c=e[1],s=e[2],l,f,h,d,p,m;return f=(o+16)/116,l=isNaN(c)?f:f+c/500,h=isNaN(s)?f:f-s/200,f=ge.Yn*St(f),l=ge.Xn*St(l),h=ge.Zn*St(h),d=_t(3.2404542*l-1.5371385*f-.4985314*h),p=_t(-.969266*l+1.8760108*f+.041556*h),m=_t(.0556434*l-.2040259*f+1.0572252*h),[d,p,m,e.length>3?e[3]:1]},_t=function(e){return 255*(e<=.00304?12.92*e:1.055*Gu(e,1/2.4)-.055)},St=function(e){return e>ge.t1?e*e*e:ge.t2*(e-ge.t0)},aa=Bu,Du=$.unpack,qu=$.type,Uu=ar,oa=R,ia=F,Yu=na;oa.prototype.lab=function(){return Yu(this._rgb)},Uu.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(oa,[null].concat(e,["lab"])))},ia.format.lab=aa,ia.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Du(e,"lab"),qu(e)==="array"&&e.length===3)return"lab"}});var Wu=$.unpack,Vu=$.RAD2DEG,Xu=Math.sqrt,Hu=Math.atan2,Ku=Math.round,Zu=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Wu(e,"lab"),c=o[0],s=o[1],l=o[2],f=Xu(s*s+l*l),h=(Hu(l,s)*Vu+360)%360;return Ku(f*1e4)===0&&(h=Number.NaN),[c,f,h]},ua=Zu,Ju=$.unpack,Qu=na,rc=ua,ec=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Ju(e,"rgb"),c=o[0],s=o[1],l=o[2],f=Qu(c,s,l),h=f[0],d=f[1],p=f[2];return rc(h,d,p)},tc=ec,nc=$.unpack,ac=$.DEG2RAD,oc=Math.sin,ic=Math.cos,uc=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=nc(e,"lch"),c=o[0],s=o[1],l=o[2];return isNaN(l)&&(l=0),l=l*ac,[c,ic(l)*s,oc(l)*s]},ca=uc,cc=$.unpack,fc=ca,sc=aa,lc=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=cc(e,"lch");var o=e[0],c=e[1],s=e[2],l=fc(o,c,s),f=l[0],h=l[1],d=l[2],p=sc(f,h,d),m=p[0],T=p[1],w=p[2];return[m,T,w,e.length>3?e[3]:1]},fa=lc,vc=$.unpack,hc=fa,dc=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=vc(e,"hcl").reverse();return hc.apply(void 0,o)},gc=dc,pc=$.unpack,bc=$.type,sa=ar,Ue=R,xt=F,la=tc;Ue.prototype.lch=function(){return la(this._rgb)},Ue.prototype.hcl=function(){return la(this._rgb).reverse()},sa.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ue,[null].concat(e,["lch"])))},sa.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ue,[null].concat(e,["hcl"])))},xt.format.lch=fa,xt.format.hcl=gc,["lch","hcl"].forEach(function(e){return xt.autodetect.push({p:2,test:function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];if(t=pc(t,e),bc(t)==="array"&&t.length===3)return e}})});var yc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},va=yc,mc=R,ha=F,wc=$.type,Oe=va,$c=Wn,_c=Yn;mc.prototype.name=function(){for(var e=_c(this._rgb,"rgb"),t=0,o=Object.keys(Oe);t<o.length;t+=1){var c=o[t];if(Oe[c]===e)return c.toLowerCase()}return e},ha.format.named=function(e){if(e=e.toLowerCase(),Oe[e])return $c(Oe[e]);throw new Error("unknown color name: "+e)},ha.autodetect.push({p:5,test:function(e){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];if(!t.length&&wc(e)==="string"&&Oe[e.toLowerCase()])return"named"}});var Sc=$.unpack,xc=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Sc(e,"rgb"),c=o[0],s=o[1],l=o[2];return(c<<16)+(s<<8)+l},kc=xc,Tc=$.type,Pc=function(e){if(Tc(e)=="number"&&e>=0&&e<=16777215){var t=e>>16,o=e>>8&255,c=e&255;return[t,o,c,1]}throw new Error("unknown num color: "+e)},Oc=Pc,Mc=ar,da=R,ga=F,Cc=$.type,jc=kc;da.prototype.num=function(){return jc(this._rgb)},Mc.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(da,[null].concat(e,["num"])))},ga.format.num=Oc,ga.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e.length===1&&Cc(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var Ic=ar,kt=R,pa=F,ba=$.unpack,ya=$.type,ma=Math.round;kt.prototype.rgb=function(e){return e===void 0&&(e=!0),e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ma)},kt.prototype.rgba=function(e){return e===void 0&&(e=!0),this._rgb.slice(0,4).map(function(t,o){return o<3?e===!1?t:ma(t):t})},Ic.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(kt,[null].concat(e,["rgb"])))},pa.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=ba(e,"rgba");return o[3]===void 0&&(o[3]=1),o},pa.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ba(e,"rgba"),ya(e)==="array"&&(e.length===3||e.length===4&&ya(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var Ye=Math.log,Ec=function(e){var t=e/100,o,c,s;return t<66?(o=255,c=t<6?0:-155.25485562709179-.44596950469579133*(c=t-2)+104.49216199393888*Ye(c),s=t<20?0:-254.76935184120902+.8274096064007395*(s=t-10)+115.67994401066147*Ye(s)):(o=351.97690566805693+.114206453784165*(o=t-55)-40.25366309332127*Ye(o),c=325.4494125711974+.07943456536662342*(c=t-50)-28.0852963507957*Ye(c),s=255),[o,c,s,1]},wa=Ec,Ac=wa,Rc=$.unpack,Nc=Math.round,Fc=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var o=Rc(e,"rgb"),c=o[0],s=o[2],l=1e3,f=4e4,h=.4,d;f-l>h;){d=(f+l)*.5;var p=Ac(d);p[2]/p[0]>=s/c?f=d:l=d}return Nc(d)},Lc=Fc,Tt=ar,We=R,Pt=F,zc=Lc;We.prototype.temp=We.prototype.kelvin=We.prototype.temperature=function(){return zc(this._rgb)},Tt.temp=Tt.kelvin=Tt.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(We,[null].concat(e,["temp"])))},Pt.format.temp=Pt.format.kelvin=Pt.format.temperature=wa;var Gc=$.unpack,Ot=Math.cbrt,Bc=Math.pow,Dc=Math.sign,qc=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Gc(e,"rgb"),c=o[0],s=o[1],l=o[2],f=[Mt(c/255),Mt(s/255),Mt(l/255)],h=f[0],d=f[1],p=f[2],m=Ot(.4122214708*h+.5363325363*d+.0514459929*p),T=Ot(.2119034982*h+.6806995451*d+.1073969566*p),w=Ot(.0883024619*h+.2817188376*d+.6299787005*p);return[.2104542553*m+.793617785*T-.0040720468*w,1.9779984951*m-2.428592205*T+.4505937099*w,.0259040371*m+.7827717662*T-.808675766*w]},$a=qc;function Mt(e){var t=Math.abs(e);return t<.04045?e/12.92:(Dc(e)||1)*Bc((t+.055)/1.055,2.4)}var Uc=$.unpack,Ve=Math.pow,Yc=Math.sign,Wc=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=Uc(e,"lab");var o=e[0],c=e[1],s=e[2],l=Ve(o+.3963377774*c+.2158037573*s,3),f=Ve(o-.1055613458*c-.0638541728*s,3),h=Ve(o-.0894841775*c-1.291485548*s,3);return[255*Ct(4.0767416621*l-3.3077115913*f+.2309699292*h),255*Ct(-1.2684380046*l+2.6097574011*f-.3413193965*h),255*Ct(-.0041960863*l-.7034186147*f+1.707614701*h),e.length>3?e[3]:1]},_a=Wc;function Ct(e){var t=Math.abs(e);return t>.0031308?(Yc(e)||1)*(1.055*Ve(t,1/2.4)-.055):e*12.92}var Vc=$.unpack,Xc=$.type,Hc=ar,Sa=R,xa=F,Kc=$a;Sa.prototype.oklab=function(){return Kc(this._rgb)},Hc.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Sa,[null].concat(e,["oklab"])))},xa.format.oklab=_a,xa.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Vc(e,"oklab"),Xc(e)==="array"&&e.length===3)return"oklab"}});var Zc=$.unpack,Jc=$a,Qc=ua,rf=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=Zc(e,"rgb"),c=o[0],s=o[1],l=o[2],f=Jc(c,s,l),h=f[0],d=f[1],p=f[2];return Qc(h,d,p)},ef=rf,tf=$.unpack,nf=ca,af=_a,of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e=tf(e,"lch");var o=e[0],c=e[1],s=e[2],l=nf(o,c,s),f=l[0],h=l[1],d=l[2],p=af(f,h,d),m=p[0],T=p[1],w=p[2];return[m,T,w,e.length>3?e[3]:1]},uf=of,cf=$.unpack,ff=$.type,sf=ar,ka=R,Ta=F,lf=ef;ka.prototype.oklch=function(){return lf(this._rgb)},sf.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ka,[null].concat(e,["oklch"])))},Ta.format.oklch=uf,Ta.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=cf(e,"oklch"),ff(e)==="array"&&e.length===3)return"oklch"}});var Pa=R,vf=$.type;Pa.prototype.alpha=function(e,t){return t===void 0&&(t=!1),e!==void 0&&vf(e)==="number"?t?(this._rgb[3]=e,this):new Pa([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};var hf=R;hf.prototype.clipped=function(){return this._rgb._clipped||!1};var ae=R,df=qe;ae.prototype.darken=function(e){e===void 0&&(e=1);var t=this,o=t.lab();return o[0]-=df.Kn*e,new ae(o,"lab").alpha(t.alpha(),!0)},ae.prototype.brighten=function(e){return e===void 0&&(e=1),this.darken(-e)},ae.prototype.darker=ae.prototype.darken,ae.prototype.brighter=ae.prototype.brighten;var gf=R;gf.prototype.get=function(e){var t=e.split("."),o=t[0],c=t[1],s=this[o]();if(c){var l=o.indexOf(c)-(o.substr(0,2)==="ok"?2:0);if(l>-1)return s[l];throw new Error("unknown channel "+c+" in mode "+o)}else return s};var pe=R,pf=$.type,bf=Math.pow,yf=1e-7,mf=20;pe.prototype.luminance=function(e){if(e!==void 0&&pf(e)==="number"){if(e===0)return new pe([0,0,0,this._rgb[3]],"rgb");if(e===1)return new pe([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),o="rgb",c=mf,s=function(f,h){var d=f.interpolate(h,.5,o),p=d.luminance();return Math.abs(e-p)<yf||!c--?d:p>e?s(f,d):s(d,h)},l=(t>e?s(new pe([0,0,0]),this):s(this,new pe([255,255,255]))).rgb();return new pe(l.concat([this._rgb[3]]))}return wf.apply(void 0,this._rgb.slice(0,3))};var wf=function(e,t,o){return e=jt(e),t=jt(t),o=jt(o),.2126*e+.7152*t+.0722*o},jt=function(e){return e/=255,e<=.03928?e/12.92:bf((e+.055)/1.055,2.4)},_r={},Oa=R,Ma=$.type,Xe=_r,Ca=function(e,t,o){o===void 0&&(o=.5);for(var c=[],s=arguments.length-3;s-- >0;)c[s]=arguments[s+3];var l=c[0]||"lrgb";if(!Xe[l]&&!c.length&&(l=Object.keys(Xe)[0]),!Xe[l])throw new Error("interpolation mode "+l+" is not defined");return Ma(e)!=="object"&&(e=new Oa(e)),Ma(t)!=="object"&&(t=new Oa(t)),Xe[l](e,t,o).alpha(e.alpha()+o*(t.alpha()-e.alpha()))},ja=R,$f=Ca;ja.prototype.mix=ja.prototype.interpolate=function(e,t){t===void 0&&(t=.5);for(var o=[],c=arguments.length-2;c-- >0;)o[c]=arguments[c+2];return $f.apply(void 0,[this,e,t].concat(o))};var Ia=R;Ia.prototype.premultiply=function(e){e===void 0&&(e=!1);var t=this._rgb,o=t[3];return e?(this._rgb=[t[0]*o,t[1]*o,t[2]*o,o],this):new Ia([t[0]*o,t[1]*o,t[2]*o,o],"rgb")};var It=R,_f=qe;It.prototype.saturate=function(e){e===void 0&&(e=1);var t=this,o=t.lch();return o[1]+=_f.Kn*e,o[1]<0&&(o[1]=0),new It(o,"lch").alpha(t.alpha(),!0)},It.prototype.desaturate=function(e){return e===void 0&&(e=1),this.saturate(-e)};var Ea=R,Aa=$.type;Ea.prototype.set=function(e,t,o){o===void 0&&(o=!1);var c=e.split("."),s=c[0],l=c[1],f=this[s]();if(l){var h=s.indexOf(l)-(s.substr(0,2)==="ok"?2:0);if(h>-1){if(Aa(t)=="string")switch(t.charAt(0)){case"+":f[h]+=+t;break;case"-":f[h]+=+t;break;case"*":f[h]*=+t.substr(1);break;case"/":f[h]/=+t.substr(1);break;default:f[h]=+t}else if(Aa(t)==="number")f[h]=t;else throw new Error("unsupported value for Color.set");var d=new Ea(f,s);return o?(this._rgb=d._rgb,this):d}throw new Error("unknown channel "+l+" in mode "+s)}else return f};var Sf=R,xf=function(e,t,o){var c=e._rgb,s=t._rgb;return new Sf(c[0]+o*(s[0]-c[0]),c[1]+o*(s[1]-c[1]),c[2]+o*(s[2]-c[2]),"rgb")};_r.rgb=xf;var kf=R,Et=Math.sqrt,be=Math.pow,Tf=function(e,t,o){var c=e._rgb,s=c[0],l=c[1],f=c[2],h=t._rgb,d=h[0],p=h[1],m=h[2];return new kf(Et(be(s,2)*(1-o)+be(d,2)*o),Et(be(l,2)*(1-o)+be(p,2)*o),Et(be(f,2)*(1-o)+be(m,2)*o),"rgb")};_r.lrgb=Tf;var Pf=R,Of=function(e,t,o){var c=e.lab(),s=t.lab();return new Pf(c[0]+o*(s[0]-c[0]),c[1]+o*(s[1]-c[1]),c[2]+o*(s[2]-c[2]),"lab")};_r.lab=Of;var Ra=R,ye=function(e,t,o,c){var s,l,f,h;c==="hsl"?(f=e.hsl(),h=t.hsl()):c==="hsv"?(f=e.hsv(),h=t.hsv()):c==="hcg"?(f=e.hcg(),h=t.hcg()):c==="hsi"?(f=e.hsi(),h=t.hsi()):c==="lch"||c==="hcl"?(c="hcl",f=e.hcl(),h=t.hcl()):c==="oklch"&&(f=e.oklch().reverse(),h=t.oklch().reverse());var d,p,m,T,w,M;(c.substr(0,1)==="h"||c==="oklch")&&(s=f,d=s[0],m=s[1],w=s[2],l=h,p=l[0],T=l[1],M=l[2]);var O,B,U,X;return!isNaN(d)&&!isNaN(p)?(p>d&&p-d>180?X=p-(d+360):p<d&&d-p>180?X=p+360-d:X=p-d,B=d+o*X):isNaN(d)?isNaN(p)?B=Number.NaN:(B=p,(w==1||w==0)&&c!="hsv"&&(O=T)):(B=d,(M==1||M==0)&&c!="hsv"&&(O=m)),O===void 0&&(O=m+o*(T-m)),U=w+o*(M-w),c==="oklch"?new Ra([U,O,B],c):new Ra([B,O,U],c)},Mf=ye,Na=function(e,t,o){return Mf(e,t,o,"lch")};_r.lch=Na,_r.hcl=Na;var Cf=R,jf=function(e,t,o){var c=e.num(),s=t.num();return new Cf(c+o*(s-c),"num")};_r.num=jf;var If=ye,Ef=function(e,t,o){return If(e,t,o,"hcg")};_r.hcg=Ef;var Af=ye,Rf=function(e,t,o){return Af(e,t,o,"hsi")};_r.hsi=Rf;var Nf=ye,Ff=function(e,t,o){return Nf(e,t,o,"hsl")};_r.hsl=Ff;var Lf=ye,zf=function(e,t,o){return Lf(e,t,o,"hsv")};_r.hsv=zf;var Gf=R,Bf=function(e,t,o){var c=e.oklab(),s=t.oklab();return new Gf(c[0]+o*(s[0]-c[0]),c[1]+o*(s[1]-c[1]),c[2]+o*(s[2]-c[2]),"oklab")};_r.oklab=Bf;var Df=ye,qf=function(e,t,o){return Df(e,t,o,"oklch")};_r.oklch=qf;var At=R,Uf=$.clip_rgb,Rt=Math.pow,Nt=Math.sqrt,Ft=Math.PI,Fa=Math.cos,La=Math.sin,Yf=Math.atan2,Wf=function(e,t,o){t===void 0&&(t="lrgb"),o===void 0&&(o=null);var c=e.length;o||(o=Array.from(new Array(c)).map(function(){return 1}));var s=c/o.reduce(function(B,U){return B+U});if(o.forEach(function(B,U){o[U]*=s}),e=e.map(function(B){return new At(B)}),t==="lrgb")return Vf(e,o);for(var l=e.shift(),f=l.get(t),h=[],d=0,p=0,m=0;m<f.length;m++)if(f[m]=(f[m]||0)*o[0],h.push(isNaN(f[m])?0:o[0]),t.charAt(m)==="h"&&!isNaN(f[m])){var T=f[m]/180*Ft;d+=Fa(T)*o[0],p+=La(T)*o[0]}var w=l.alpha()*o[0];e.forEach(function(B,U){var X=B.get(t);w+=B.alpha()*o[U+1];for(var J=0;J<f.length;J++)if(!isNaN(X[J]))if(h[J]+=o[U+1],t.charAt(J)==="h"){var gr=X[J]/180*Ft;d+=Fa(gr)*o[U+1],p+=La(gr)*o[U+1]}else f[J]+=X[J]*o[U+1]});for(var M=0;M<f.length;M++)if(t.charAt(M)==="h"){for(var O=Yf(p/h[M],d/h[M])/Ft*180;O<0;)O+=360;for(;O>=360;)O-=360;f[M]=O}else f[M]=f[M]/h[M];return w/=c,new At(f,t).alpha(w>.99999?1:w,!0)},Vf=function(e,t){for(var o=e.length,c=[0,0,0,0],s=0;s<e.length;s++){var l=e[s],f=t[s]/o,h=l._rgb;c[0]+=Rt(h[0],2)*f,c[1]+=Rt(h[1],2)*f,c[2]+=Rt(h[2],2)*f,c[3]+=h[3]*f}return c[0]=Nt(c[0]),c[1]=Nt(c[1]),c[2]=Nt(c[2]),c[3]>.9999999&&(c[3]=1),new At(Uf(c))},Mr=ar,me=$.type,Xf=Math.pow,Lt=function(e){var t="rgb",o=Mr("#ccc"),c=0,s=[0,1],l=[],f=[0,0],h=!1,d=[],p=!1,m=0,T=1,w=!1,M={},O=!0,B=1,U=function(_){if(_=_||["#fff","#000"],_&&me(_)==="string"&&Mr.brewer&&Mr.brewer[_.toLowerCase()]&&(_=Mr.brewer[_.toLowerCase()]),me(_)==="array"){_.length===1&&(_=[_[0],_[0]]),_=_.slice(0);for(var N=0;N<_.length;N++)_[N]=Mr(_[N]);l.length=0;for(var q=0;q<_.length;q++)l.push(q/(_.length-1))}return mr(),d=_},X=function(_){if(h!=null){for(var N=h.length-1,q=0;q<N&&_>=h[q];)q++;return q-1}return 0},J=function(_){return _},gr=function(_){return _},hr=function(_,N){var q,D;if(N==null&&(N=!1),isNaN(_)||_===null)return o;if(N)D=_;else if(h&&h.length>2){var pr=X(_);D=pr/(h.length-2)}else T!==m?D=(_-m)/(T-m):D=1;D=gr(D),N||(D=J(D)),B!==1&&(D=Xf(D,B)),D=f[0]+D*(1-f[0]-f[1]),D=Math.min(1,Math.max(0,D));var nr=Math.floor(D*1e4);if(O&&M[nr])q=M[nr];else{if(me(d)==="array")for(var H=0;H<l.length;H++){var Q=l[H];if(D<=Q){q=d[H];break}if(D>=Q&&H===l.length-1){q=d[H];break}if(D>Q&&D<l[H+1]){D=(D-Q)/(l[H+1]-Q),q=Mr.interpolate(d[H],d[H+1],D,t);break}}else me(d)==="function"&&(q=d(D));O&&(M[nr]=q)}return q},mr=function(){return M={}};U(e);var W=function(_){var N=Mr(hr(_));return p&&N[p]?N[p]():N};return W.classes=function(_){if(_!=null){if(me(_)==="array")h=_,s=[_[0],_[_.length-1]];else{var N=Mr.analyze(s);_===0?h=[N.min,N.max]:h=Mr.limits(N,"e",_)}return W}return h},W.domain=function(_){if(!arguments.length)return s;m=_[0],T=_[_.length-1],l=[];var N=d.length;if(_.length===N&&m!==T)for(var q=0,D=Array.from(_);q<D.length;q+=1){var pr=D[q];l.push((pr-m)/(T-m))}else{for(var nr=0;nr<N;nr++)l.push(nr/(N-1));if(_.length>2){var H=_.map(function(rr,er){return er/(_.length-1)}),Q=_.map(function(rr){return(rr-m)/(T-m)});Q.every(function(rr,er){return H[er]===rr})||(gr=function(rr){if(rr<=0||rr>=1)return rr;for(var er=0;rr>=Q[er+1];)er++;var jr=(rr-Q[er])/(Q[er+1]-Q[er]),Jr=H[er]+jr*(H[er+1]-H[er]);return Jr})}}return s=[m,T],W},W.mode=function(_){return arguments.length?(t=_,mr(),W):t},W.range=function(_,N){return U(_),W},W.out=function(_){return p=_,W},W.spread=function(_){return arguments.length?(c=_,W):c},W.correctLightness=function(_){return _==null&&(_=!0),w=_,mr(),w?J=function(N){for(var q=hr(0,!0).lab()[0],D=hr(1,!0).lab()[0],pr=q>D,nr=hr(N,!0).lab()[0],H=q+(D-q)*N,Q=nr-H,rr=0,er=1,jr=20;Math.abs(Q)>.01&&jr-- >0;)(function(){return pr&&(Q*=-1),Q<0?(rr=N,N+=(er-N)*.5):(er=N,N+=(rr-N)*.5),nr=hr(N,!0).lab()[0],Q=nr-H})();return N}:J=function(N){return N},W},W.padding=function(_){return _!=null?(me(_)==="number"&&(_=[_,_]),f=_,W):f},W.colors=function(_,N){arguments.length<2&&(N="hex");var q=[];if(arguments.length===0)q=d.slice(0);else if(_===1)q=[W(.5)];else if(_>1){var D=s[0],pr=s[1]-D;q=Hf(0,_,!1).map(function(er){return W(D+er/(_-1)*pr)})}else{e=[];var nr=[];if(h&&h.length>2)for(var H=1,Q=h.length,rr=1<=Q;rr?H<Q:H>Q;rr?H++:H--)nr.push((h[H-1]+h[H])*.5);else nr=s;q=nr.map(function(er){return W(er)})}return Mr[N]&&(q=q.map(function(er){return er[N]()})),q},W.cache=function(_){return _!=null?(O=_,W):O},W.gamma=function(_){return _!=null?(B=_,W):B},W.nodata=function(_){return _!=null?(o=Mr(_),W):o},W};function Hf(e,t,o){for(var c=[],s=e<t,l=o?s?t+1:t-1:t,f=e;s?f<l:f>l;s?f++:f--)c.push(f);return c}var Me=R,Kf=Lt,Zf=function(e){for(var t=[1,1],o=1;o<e;o++){for(var c=[1],s=1;s<=t.length;s++)c[s]=(t[s]||0)+t[s-1];t=c}return t},Jf=function(e){var t,o,c,s,l,f,h;if(e=e.map(function(w){return new Me(w)}),e.length===2)t=e.map(function(w){return w.lab()}),l=t[0],f=t[1],s=function(w){var M=[0,1,2].map(function(O){return l[O]+w*(f[O]-l[O])});return new Me(M,"lab")};else if(e.length===3)o=e.map(function(w){return w.lab()}),l=o[0],f=o[1],h=o[2],s=function(w){var M=[0,1,2].map(function(O){return(1-w)*(1-w)*l[O]+2*(1-w)*w*f[O]+w*w*h[O]});return new Me(M,"lab")};else if(e.length===4){var d;c=e.map(function(w){return w.lab()}),l=c[0],f=c[1],h=c[2],d=c[3],s=function(w){var M=[0,1,2].map(function(O){return(1-w)*(1-w)*(1-w)*l[O]+3*(1-w)*(1-w)*w*f[O]+3*(1-w)*w*w*h[O]+w*w*w*d[O]});return new Me(M,"lab")}}else if(e.length>=5){var p,m,T;p=e.map(function(w){return w.lab()}),T=e.length-1,m=Zf(T),s=function(w){var M=1-w,O=[0,1,2].map(function(B){return p.reduce(function(U,X,J){return U+m[J]*Math.pow(M,T-J)*Math.pow(w,J)*X[B]},0)});return new Me(O,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return s},Qf=function(e){var t=Jf(e);return t.scale=function(){return Kf(t)},t},zt=ar,Cr=function(e,t,o){if(!Cr[o])throw new Error("unknown blend mode "+o);return Cr[o](e,t)},Kr=function(e){return function(t,o){var c=zt(o).rgb(),s=zt(t).rgb();return zt.rgb(e(c,s))}},Zr=function(e){return function(t,o){var c=[];return c[0]=e(t[0],o[0]),c[1]=e(t[1],o[1]),c[2]=e(t[2],o[2]),c}},rs=function(e){return e},es=function(e,t){return e*t/255},ts=function(e,t){return e>t?t:e},ns=function(e,t){return e>t?e:t},as=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},os=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},is=function(e,t){return 255*(1-(1-t/255)/(e/255))},us=function(e,t){return e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e)};Cr.normal=Kr(Zr(rs)),Cr.multiply=Kr(Zr(es)),Cr.screen=Kr(Zr(as)),Cr.overlay=Kr(Zr(os)),Cr.darken=Kr(Zr(ts)),Cr.lighten=Kr(Zr(ns)),Cr.dodge=Kr(Zr(us)),Cr.burn=Kr(Zr(is));for(var cs=Cr,Gt=$.type,fs=$.clip_rgb,ss=$.TWOPI,ls=Math.pow,vs=Math.sin,hs=Math.cos,za=ar,ds=function(e,t,o,c,s){e===void 0&&(e=300),t===void 0&&(t=-1.5),o===void 0&&(o=1),c===void 0&&(c=1),s===void 0&&(s=[0,1]);var l=0,f;Gt(s)==="array"?f=s[1]-s[0]:(f=0,s=[s,s]);var h=function(d){var p=ss*((e+120)/360+t*d),m=ls(s[0]+f*d,c),T=l!==0?o[0]+d*l:o,w=T*m*(1-m)/2,M=hs(p),O=vs(p),B=m+w*(-.14861*M+1.78277*O),U=m+w*(-.29227*M-.90649*O),X=m+w*(1.97294*M);return za(fs([B*255,U*255,X*255,1]))};return h.start=function(d){return d==null?e:(e=d,h)},h.rotations=function(d){return d==null?t:(t=d,h)},h.gamma=function(d){return d==null?c:(c=d,h)},h.hue=function(d){return d==null?o:(o=d,Gt(o)==="array"?(l=o[1]-o[0],l===0&&(o=o[1])):l=0,h)},h.lightness=function(d){return d==null?s:(Gt(d)==="array"?(s=d,f=d[1]-d[0]):(s=[d,d],f=0),h)},h.scale=function(){return za.scale(h)},h.hue(o),h},gs=R,ps="0123456789abcdef",bs=Math.floor,ys=Math.random,ms=function(){for(var e="#",t=0;t<6;t++)e+=ps.charAt(bs(ys()*16));return new gs(e,"hex")},Bt=k,Ga=Math.log,ws=Math.pow,$s=Math.floor,_s=Math.abs,Ba=function(e,t){t===void 0&&(t=null);var o={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Bt(e)==="object"&&(e=Object.values(e)),e.forEach(function(c){t&&Bt(c)==="object"&&(c=c[t]),c!=null&&!isNaN(c)&&(o.values.push(c),o.sum+=c,c<o.min&&(o.min=c),c>o.max&&(o.max=c),o.count+=1)}),o.domain=[o.min,o.max],o.limits=function(c,s){return Da(o,c,s)},o},Da=function(e,t,o){t===void 0&&(t="equal"),o===void 0&&(o=7),Bt(e)=="array"&&(e=Ba(e));var c=e.min,s=e.max,l=e.values.sort(function(qt,Ut){return qt-Ut});if(o===1)return[c,s];var f=[];if(t.substr(0,1)==="c"&&(f.push(c),f.push(s)),t.substr(0,1)==="e"){f.push(c);for(var h=1;h<o;h++)f.push(c+h/o*(s-c));f.push(s)}else if(t.substr(0,1)==="l"){if(c<=0)throw new Error("Logarithmic scales are only possible for values > 0");var d=Math.LOG10E*Ga(c),p=Math.LOG10E*Ga(s);f.push(c);for(var m=1;m<o;m++)f.push(ws(10,d+m/o*(p-d)));f.push(s)}else if(t.substr(0,1)==="q"){f.push(c);for(var T=1;T<o;T++){var w=(l.length-1)*T/o,M=$s(w);if(M===w)f.push(l[M]);else{var O=w-M;f.push(l[M]*(1-O)+l[M+1]*O)}}f.push(s)}else if(t.substr(0,1)==="k"){var B,U=l.length,X=new Array(U),J=new Array(o),gr=!0,hr=0,mr=null;mr=[],mr.push(c);for(var W=1;W<o;W++)mr.push(c+W/o*(s-c));for(mr.push(s);gr;){for(var _=0;_<o;_++)J[_]=0;for(var N=0;N<U;N++)for(var q=l[N],D=Number.MAX_VALUE,pr=void 0,nr=0;nr<o;nr++){var H=_s(mr[nr]-q);H<D&&(D=H,pr=nr),J[pr]++,X[N]=pr}for(var Q=new Array(o),rr=0;rr<o;rr++)Q[rr]=null;for(var er=0;er<U;er++)B=X[er],Q[B]===null?Q[B]=l[er]:Q[B]+=l[er];for(var jr=0;jr<o;jr++)Q[jr]*=1/J[jr];gr=!1;for(var Jr=0;Jr<o;Jr++)if(Q[Jr]!==mr[Jr]){gr=!0;break}mr=Q,hr++,hr>200&&(gr=!1)}for(var Qr={},we=0;we<o;we++)Qr[we]=[];for(var $e=0;$e<U;$e++)B=X[$e],Qr[B].push(l[$e]);for(var Yr=[],oe=0;oe<o;oe++)Yr.push(Qr[oe][0]),Yr.push(Qr[oe][Qr[oe].length-1]);Yr=Yr.sort(function(qt,Ut){return qt-Ut}),f.push(Yr[0]);for(var Ce=1;Ce<Yr.length;Ce+=2){var ie=Yr[Ce];!isNaN(ie)&&f.indexOf(ie)===-1&&f.push(ie)}}return f},qa={analyze:Ba,limits:Da},Ua=R,Ss=function(e,t){e=new Ua(e),t=new Ua(t);var o=e.luminance(),c=t.luminance();return o>c?(o+.05)/(c+.05):(c+.05)/(o+.05)},Ya=R,Ur=Math.sqrt,sr=Math.pow,xs=Math.min,ks=Math.max,Wa=Math.atan2,Va=Math.abs,He=Math.cos,Xa=Math.sin,Ts=Math.exp,Ha=Math.PI,Ps=function(e,t,o,c,s){o===void 0&&(o=1),c===void 0&&(c=1),s===void 0&&(s=1);var l=function(ie){return 360*ie/(2*Ha)},f=function(ie){return 2*Ha*ie/360};e=new Ya(e),t=new Ya(t);var h=Array.from(e.lab()),d=h[0],p=h[1],m=h[2],T=Array.from(t.lab()),w=T[0],M=T[1],O=T[2],B=(d+w)/2,U=Ur(sr(p,2)+sr(m,2)),X=Ur(sr(M,2)+sr(O,2)),J=(U+X)/2,gr=.5*(1-Ur(sr(J,7)/(sr(J,7)+sr(25,7)))),hr=p*(1+gr),mr=M*(1+gr),W=Ur(sr(hr,2)+sr(m,2)),_=Ur(sr(mr,2)+sr(O,2)),N=(W+_)/2,q=l(Wa(m,hr)),D=l(Wa(O,mr)),pr=q>=0?q:q+360,nr=D>=0?D:D+360,H=Va(pr-nr)>180?(pr+nr+360)/2:(pr+nr)/2,Q=1-.17*He(f(H-30))+.24*He(f(2*H))+.32*He(f(3*H+6))-.2*He(f(4*H-63)),rr=nr-pr;rr=Va(rr)<=180?rr:nr<=pr?rr+360:rr-360,rr=2*Ur(W*_)*Xa(f(rr)/2);var er=w-d,jr=_-W,Jr=1+.015*sr(B-50,2)/Ur(20+sr(B-50,2)),Qr=1+.045*N,we=1+.015*N*Q,$e=30*Ts(-sr((H-275)/25,2)),Yr=2*Ur(sr(N,7)/(sr(N,7)+sr(25,7))),oe=-Yr*Xa(2*f($e)),Ce=Ur(sr(er/(o*Jr),2)+sr(jr/(c*Qr),2)+sr(rr/(s*we),2)+oe*(jr/(c*Qr))*(rr/(s*we)));return ks(0,xs(100,Ce))},Ka=R,Os=function(e,t,o){o===void 0&&(o="lab"),e=new Ka(e),t=new Ka(t);var c=e.get(o),s=t.get(o),l=0;for(var f in c){var h=(c[f]||0)-(s[f]||0);l+=h*h}return Math.sqrt(l)},Ms=R,Cs=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(Ms,[null].concat(e))),!0}catch{return!1}},Za=ar,Ja=Lt,js={cool:function(){return Ja([Za.hsl(180,1,.9),Za.hsl(250,.7,.4)])},hot:function(){return Ja(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ke={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Dt=0,Qa=Object.keys(Ke);Dt<Qa.length;Dt+=1){var ro=Qa[Dt];Ke[ro.toLowerCase()]=Ke[ro]}var Is=Ke,vr=ar;vr.average=Wf,vr.bezier=Qf,vr.blend=cs,vr.cubehelix=ds,vr.mix=vr.interpolate=Ca,vr.random=ms,vr.scale=Lt,vr.analyze=qa.analyze,vr.contrast=Ss,vr.deltaE=Ps,vr.distance=Os,vr.limits=qa.limits,vr.valid=Cs,vr.scales=js,vr.colors=va,vr.brewer=Is;var Es=vr;return Es})})(Uo);const cr=Uo.exports,Yo=(i,r)=>Object.fromEntries(Object.entries(i).sort((a,n)=>a[1].get(r)-n[1].get(r))),dn=i=>Yo(i,"lch.h"),Ds=i=>Yo(i,"lch.l"),zr=(i,r)=>{const a=i.get("lch.h"),n=r.get("lch.l"),u=r.get("lch.c");return cr.lch(n,u,a)},C=Object.freeze(dn({dark:cr.lch(9.3,4.53,279.7),light:cr.lch(93.75,3.16,96.84),yellow:cr.lch(89.63,49.65,102.76),cyan:cr.lch(90.33,50.59,193.33),salmon:cr.lch(69.36,50.37,22.45),blue:cr.lch(70.39,42.93,262.58),seafoam:cr.lch(70.06,44.07,180.07),gold:cr.lch(69.42,39.56,94.1),orange:cr.lch(59.51,71.15,68.3),tomato:cr.lch(49.31,65.84,38.59),violet:cr.lch(49.39,77.22,2.48),pine:cr.lch(50.3,31.66,188.77),brown:cr.lch(49.7,31.4,59.32),clay:cr.lch(38.94,14.15,98.59),grey:cr.lch(39.74,5.49,104.78),rust:cr.lch(30.21,19.63,33.64),beige:cr.lch(93.28,11.81,107.45),charcoal:cr.lch(15.368,4.6,260.617),ivory:cr.lch(99.43,.86,55.6),red:cr.lch(44.4,84.36,36.26)}));Object.freeze({bg:C.dark,aside:C.dark.set("lch.l",25),fg:C.beige,muted:C.beige.set("lch.l",60)});Object.freeze({bg:C.light,aside:C.light.set("lch.l",85),fg:C.charcoal,muted:C.charcoal.set("lch.l",50)});Object.freeze({good:C.seafoam,warn:C.orange,bad:C.tomato,info:C.blue});Object.freeze({good:zr(C.seafoam,C.tomato),warn:zr(C.orange,C.tomato),bad:zr(C.tomato,C.tomato),info:zr(C.blue,C.tomato)});const qs=Object.freeze(Ds({dark:C.dark,light:C.light,grey:C.grey,beige:C.beige,ivory:C.ivory,charcoal:C.charcoal}));Object.fromEntries(Object.entries(C).filter(([i])=>!(i in qs)));const ue=dn({red:zr(C.red,C.red),blue:zr(C.blue,C.red),violet:zr(C.violet,C.red),green:zr(C.seafoam,C.red),orange:zr(C.orange,C.red),yellow:zr(C.gold,C.red)});Object.freeze({...ue,list:[ue.red,ue.orange,ue.yellow,ue.green,ue.blue,ue.violet]});const Wo=Object.freeze(dn({tomato:C.tomato,blue:C.blue,violet:C.violet,seafoam:C.seafoam,yellow:C.yellow}));Object.freeze({...Wo,salmon:C.salmon,clay:C.clay,cyan:C.cyan});/**
 * InTween 1.0.0-beta.7
 * @license MIT
 * Copyright 2021-present Jasper Palfree
 */function Us(i,r){i.prototype=Object.create(r.prototype),i.prototype.constructor=i,Qt(i,r)}function Qt(i,r){return Qt=Object.setPrototypeOf||function(n,u){return n.__proto__=u,n},Qt(i,r)}var Vo=function(r){return r};Function.prototype.toString.call(Object);var Xo=function(){return typeof window>"u"&&typeof process<"u"?function(){var r=process.hrtime();return r[0]*1e3+r[1]/1e6}:typeof window<"u"&&window.performance!==void 0&&window.performance.now!==void 0?window.performance.now.bind(window.performance):Date.now!==void 0?Date.now:function(){return new Date().getTime()}}(),ft=function(r,a,n){return r*(1-n)+a*n},Ys=function(r,a){var n={};for(var u in r)n[u]=a(r[u],u);return n};function Ws(i){return i.length===0?Vo:i.length===1?i[0]:function(a){return i.reduce(function(n,u){return u(n)},a)}}var xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ho(i,r){return r={exports:{}},i(r,r.exports),r.exports}var Ze=function(r){return r&&r.Math==Math&&r},Er=Ze(typeof globalThis=="object"&&globalThis)||Ze(typeof window=="object"&&window)||Ze(typeof self=="object"&&self)||Ze(typeof xe=="object"&&xe)||function(){return this}()||Function("return this")(),eo=Er,Vs=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r},Xs=function(r){return Object(Vs(r))},Hs={}.hasOwnProperty,rn=Object.hasOwn||function(r,a){return Hs.call(Xs(r),a)},Ks=function(r,a){try{Object.defineProperty(Er,r,{value:a,configurable:!0,writable:!0})}catch{Er[r]=a}return a},to="__core-js_shared__",Zs=Er[to]||Ks(to,{}),no=Zs,Js=Ho(function(i){(i.exports=function(r,a){return no[r]||(no[r]=a!==void 0?a:{})})("versions",[]).push({version:"3.17.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),Qs=0,rl=Math.random(),el=function(r){return"Symbol("+String(r===void 0?"":r)+")_"+(++Qs+rl).toString(36)},tl=function(r){return typeof r=="function"?r:void 0},Ko=function(r,a){return arguments.length<2?tl(Er[r]):Er[r]&&Er[r][a]},Yt=Ko("navigator","userAgent")||"",ao=Er.process,oo=Er.Deno,io=ao&&ao.versions||oo&&oo.version,uo=io&&io.v8,Fr,nt;uo?(Fr=uo.split("."),nt=Fr[0]<4?1:Fr[0]+Fr[1]):Yt&&(Fr=Yt.match(/Edge\/(\d+)/),(!Fr||Fr[1]>=74)&&(Fr=Yt.match(/Chrome\/(\d+)/),Fr&&(nt=Fr[1])));var co=nt&&+nt,gn=function(r){try{return!!r()}catch{return!0}},en=!!Object.getOwnPropertySymbols&&!gn(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&co&&co<41}),Zo=en&&!Symbol.sham&&typeof Symbol.iterator=="symbol",je=Js("wks"),Re=Er.Symbol,nl=Zo?Re:Re&&Re.withoutSetter||el,Jo=function(r){return(!rn(je,r)||!(en||typeof je[r]=="string"))&&(en&&rn(Re,r)?je[r]=Re[r]:je[r]=nl("Symbol."+r)),je[r]},al=Jo,Qo={f:al},ri=!gn(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),re=function(r){return typeof r=="object"?r!==null:typeof r=="function"},tn=Er.document,ol=re(tn)&&re(tn.createElement),il=function(r){return ol?tn.createElement(r):{}},ul=!ri&&!gn(function(){return Object.defineProperty(il("div"),"a",{get:function(){return 7}}).a!=7}),fo=function(r){if(!re(r))throw TypeError(String(r)+" is not an object");return r},nn=Zo?function(i){return typeof i=="symbol"}:function(i){var r=Ko("Symbol");return typeof r=="function"&&Object(i)instanceof r},cl=function(r,a){var n,u;if(a==="string"&&typeof(n=r.toString)=="function"&&!re(u=n.call(r))||typeof(n=r.valueOf)=="function"&&!re(u=n.call(r))||a!=="string"&&typeof(n=r.toString)=="function"&&!re(u=n.call(r)))return u;throw TypeError("Can't convert object to primitive value")},fl=Jo("toPrimitive"),sl=function(r,a){if(!re(r)||nn(r))return r;var n=r[fl],u;if(n!==void 0){if(a===void 0&&(a="default"),u=n.call(r,a),!re(u)||nn(u))return u;throw TypeError("Can't convert object to primitive value")}return a===void 0&&(a="number"),cl(r,a)},ll=function(r){var a=sl(r,"string");return nn(a)?a:String(a)},so=Object.defineProperty,vl=ri?so:function(r,a,n){if(fo(r),a=ll(a),fo(n),ul)try{return so(r,a,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(r[a]=n.value),r},hl={f:vl},dl=hl.f,gl=function(r){var a=eo.Symbol||(eo.Symbol={});rn(a,r)||dl(a,r,{value:Qo.f(r)})};gl("observable");Qo.f("observable");var Je=function(r){return r&&r.Math==Math&&r},dr=Je(typeof globalThis=="object"&&globalThis)||Je(typeof window=="object"&&window)||Je(typeof self=="object"&&self)||Je(typeof xe=="object"&&xe)||function(){return this}()||Function("return this")(),se=function(r){try{return!!r()}catch{return!0}},Rr=!se(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),ei={}.propertyIsEnumerable,ti=Object.getOwnPropertyDescriptor,pl=ti&&!ei.call({1:2},1),bl=pl?function(r){var a=ti(this,r);return!!a&&a.enumerable}:ei,yl={f:bl},pn=function(r,a){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:a}},ml={}.toString,Ne=function(r){return ml.call(r).slice(8,-1)},wl="".split,$l=se(function(){return!Object("z").propertyIsEnumerable(0)})?function(i){return Ne(i)=="String"?wl.call(i,""):Object(i)}:Object,bn=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r},st=function(r){return $l(bn(r))},Ar=function(r){return typeof r=="object"?r!==null:typeof r=="function"},kr={},lo=function(r){return typeof r=="function"?r:void 0},lt=function(r,a){return arguments.length<2?lo(kr[r])||lo(dr[r]):kr[r]&&kr[r][a]||dr[r]&&dr[r][a]},Wt=lt("navigator","userAgent")||"",vo=dr.process,ho=dr.Deno,go=vo&&vo.versions||ho&&ho.version,po=go&&go.v8,Lr,at;po?(Lr=po.split("."),at=Lr[0]<4?1:Lr[0]+Lr[1]):Wt&&(Lr=Wt.match(/Edge\/(\d+)/),(!Lr||Lr[1]>=74)&&(Lr=Wt.match(/Chrome\/(\d+)/),Lr&&(at=Lr[1])));var bo=at&&+at,an=!!Object.getOwnPropertySymbols&&!se(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&bo&&bo<41}),ni=an&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ot=ni?function(i){return typeof i=="symbol"}:function(i){var r=lt("Symbol");return typeof r=="function"&&Object(i)instanceof r},_l=function(r,a){var n,u;if(a==="string"&&typeof(n=r.toString)=="function"&&!Ar(u=n.call(r))||typeof(n=r.valueOf)=="function"&&!Ar(u=n.call(r))||a!=="string"&&typeof(n=r.toString)=="function"&&!Ar(u=n.call(r)))return u;throw TypeError("Can't convert object to primitive value")},Sl=function(r,a){try{Object.defineProperty(dr,r,{value:a,configurable:!0,writable:!0})}catch{dr[r]=a}return a},yo="__core-js_shared__",xl=dr[yo]||Sl(yo,{}),ee=xl,ai=Ho(function(i){(i.exports=function(r,a){return ee[r]||(ee[r]=a!==void 0?a:{})})("versions",[]).push({version:"3.17.3",mode:"pure",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),oi=function(r){return Object(bn(r))},kl={}.hasOwnProperty,wr=Object.hasOwn||function(r,a){return kl.call(oi(r),a)},Tl=0,Pl=Math.random(),ii=function(r){return"Symbol("+String(r===void 0?"":r)+")_"+(++Tl+Pl).toString(36)},Ie=ai("wks"),Fe=dr.Symbol,Ol=ni?Fe:Fe&&Fe.withoutSetter||ii,Pr=function(r){return(!wr(Ie,r)||!(an||typeof Ie[r]=="string"))&&(an&&wr(Fe,r)?Ie[r]=Fe[r]:Ie[r]=Ol("Symbol."+r)),Ie[r]},Ml=Pr("toPrimitive"),Cl=function(r,a){if(!Ar(r)||ot(r))return r;var n=r[Ml],u;if(n!==void 0){if(a===void 0&&(a="default"),u=n.call(r,a),!Ar(u)||ot(u))return u;throw TypeError("Can't convert object to primitive value")}return a===void 0&&(a="number"),_l(r,a)},ui=function(r){var a=Cl(r,"string");return ot(a)?a:String(a)},on=dr.document,jl=Ar(on)&&Ar(on.createElement),ci=function(r){return jl?on.createElement(r):{}},fi=!Rr&&!se(function(){return Object.defineProperty(ci("div"),"a",{get:function(){return 7}}).a!=7}),mo=Object.getOwnPropertyDescriptor,Il=Rr?mo:function(r,a){if(r=st(r),a=ui(a),fi)try{return mo(r,a)}catch{}if(wr(r,a))return pn(!yl.f.call(r,a),r[a])},El={f:Il},Al=/#|\.prototype\./,Ge=function(r,a){var n=Nl[Rl(r)];return n==Ll?!0:n==Fl?!1:typeof a=="function"?se(a):!!a},Rl=Ge.normalize=function(i){return String(i).replace(Al,".").toLowerCase()},Nl=Ge.data={},Fl=Ge.NATIVE="N",Ll=Ge.POLYFILL="P",zl=Ge,vt=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r},un=function(r,a,n){if(vt(r),a===void 0)return r;switch(n){case 0:return function(){return r.call(a)};case 1:return function(u){return r.call(a,u)};case 2:return function(u,v){return r.call(a,u,v)};case 3:return function(u,v,g){return r.call(a,u,v,g)}}return function(){return r.apply(a,arguments)}},Tr=function(r){if(!Ar(r))throw TypeError(String(r)+" is not an object");return r},wo=Object.defineProperty,Gl=Rr?wo:function(r,a,n){if(Tr(r),a=ui(a),Tr(n),fi)try{return wo(r,a,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(r[a]=n.value),r},Te={f:Gl},Sr=Rr?function(i,r,a){return Te.f(i,r,pn(1,a))}:function(i,r,a){return i[r]=a,i},Bl=El.f,Dl=function(r){var a=function(u,v,g){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(u);case 2:return new r(u,v)}return new r(u,v,g)}return r.apply(this,arguments)};return a.prototype=r.prototype,a},si=function(r,a){var n=r.target,u=r.global,v=r.stat,g=r.proto,b=u?dr:v?dr[n]:(dr[n]||{}).prototype,S=u?kr:kr[n]||Sr(kr,n,{})[n],k=S.prototype,I,L,K,E,z,$,F,ir,Z;for(E in a)I=zl(u?E:n+(v?".":"#")+E,r.forced),L=!I&&b&&wr(b,E),$=S[E],L&&(r.noTargetGet?(Z=Bl(b,E),F=Z&&Z.value):F=b[E]),z=L&&F?F:a[E],!(L&&typeof $==typeof z)&&(r.bind&&L?ir=un(z,dr):r.wrap&&L?ir=Dl(z):g&&typeof z=="function"?ir=un(Function.call,z):ir=z,(r.sham||z&&z.sham||$&&$.sham)&&Sr(ir,"sham",!0),Sr(S,E,ir),g&&(K=n+"Prototype",wr(kr,K)||Sr(kr,K,{}),Sr(kr[K],E,z),r.real&&k&&!k[E]&&Sr(k,E,z)))},$o=Pr("species"),ql=function(r){var a=lt(r),n=Te.f;Rr&&a&&!a[$o]&&n(a,$o,{configurable:!0,get:function(){return this}})},Ul=function(r,a,n){if(!(r instanceof a))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return r},li=function(r,a,n,u){u&&u.enumerable?r[a]=n:Sr(r,a,n)},ht=function(r,a,n){for(var u in a)n&&n.unsafe&&r[u]?r[u]=a[u]:li(r,u,a[u],n);return r},Yl=Pr("toStringTag"),vi={};vi[Yl]="z";var yn=String(vi)==="[object z]",Wl=Pr("toStringTag"),Vl=Ne(function(){return arguments}())=="Arguments",Xl=function(r,a){try{return r[a]}catch{}},mn=yn?Ne:function(i){var r,a,n;return i===void 0?"Undefined":i===null?"Null":typeof(a=Xl(r=Object(i),Wl))=="string"?a:Vl?Ne(r):(n=Ne(r))=="Object"&&typeof r.callee=="function"?"Arguments":n},Vr={},Hl=Pr("iterator"),hi=function(r){if(r!=null)return r[Hl]||r["@@iterator"]||Vr[mn(r)]},di=function(r,a){var n=arguments.length<2?hi(r):a;if(typeof n!="function")throw TypeError(String(r)+" is not iterable");return Tr(n.call(r))},Le=function(r){return r==null?void 0:vt(r)},Kl=Pr("iterator"),Zl=Array.prototype,Jl=function(r){return r!==void 0&&(Vr.Array===r||Zl[Kl]===r)},Ql=Math.ceil,rv=Math.floor,wn=function(r){return isNaN(r=+r)?0:(r>0?rv:Ql)(r)},ev=Math.min,gi=function(r){return r>0?ev(wn(r),9007199254740991):0},_o=function(r,a,n){var u,v;Tr(r);try{if(u=r.return,u===void 0){if(a==="throw")throw n;return n}u=u.call(r)}catch(g){v=!0,u=g}if(a==="throw")throw n;if(v)throw u;return Tr(u),n},Ee=function(r,a){this.stopped=r,this.result=a},tv=function(r,a,n){var u=n&&n.that,v=!!(n&&n.AS_ENTRIES),g=!!(n&&n.IS_ITERATOR),b=!!(n&&n.INTERRUPTED),S=un(a,u,1+v+b),k,I,L,K,E,z,$,F=function(V){return k&&_o(k,"normal",V),new Ee(!0,V)},ir=function(V){return v?(Tr(V),b?S(V[0],V[1],F):S(V[0],V[1])):b?S(V,F):S(V)};if(g)k=r;else{if(I=hi(r),typeof I!="function")throw TypeError("Target is not iterable");if(Jl(I)){for(L=0,K=gi(r.length);K>L;L++)if(E=ir(r[L]),E&&E instanceof Ee)return E;return new Ee(!1)}k=di(r,I)}for(z=k.next;!($=z.call(k)).done;){try{E=ir($.value)}catch(Z){_o(k,"throw",Z)}if(typeof E=="object"&&E&&E instanceof Ee)return E}return new Ee(!1)},Se=function(r,a){var n=dr.console;n&&n.error&&(arguments.length===1?n.error(r):n.error(r,a))},nv=Function.toString;typeof ee.inspectSource!="function"&&(ee.inspectSource=function(i){return nv.call(i)});var av=ee.inspectSource,So=dr.WeakMap,ov=typeof So=="function"&&/native code/.test(av(So)),xo=ai("keys"),$n=function(r){return xo[r]||(xo[r]=ii(r))},_n={},ko="Object already initialized",iv=dr.WeakMap,it,ze,ut,uv=function(r){return ut(r)?ze(r):it(r,{})},cv=function(r){return function(a){var n;if(!Ar(a)||(n=ze(a)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return n}};if(ov||ee.state){var ce=ee.state||(ee.state=new iv),fv=ce.get,To=ce.has,sv=ce.set;it=function(r,a){if(To.call(ce,r))throw new TypeError(ko);return a.facade=r,sv.call(ce,r,a),a},ze=function(r){return fv.call(ce,r)||{}},ut=function(r){return To.call(ce,r)}}else{var _e=$n("state");_n[_e]=!0,it=function(r,a){if(wr(r,_e))throw new TypeError(ko);return a.facade=r,Sr(r,_e,a),a},ze=function(r){return wr(r,_e)?r[_e]:{}},ut=function(r){return wr(r,_e)}}var Pe={set:it,get:ze,has:ut,enforce:uv,getterFor:cv},pi=Te.f,bi=Pr("observable"),Ir=Pe.get,Sn=Pe.set,ct=function(r){var a=r.cleanup;if(a){r.cleanup=void 0;try{a()}catch(n){Se(n)}}},te=function(r){return r.observer===void 0},cn=function(r){var a=r.facade;if(!Rr){a.closed=!0;var n=r.subscriptionObserver;n&&(n.closed=!0)}r.observer=void 0},xn=function(r,a){var n=Sn(this,{cleanup:void 0,observer:Tr(r),subscriptionObserver:void 0}),u;Rr||(this.closed=!1);try{(u=Le(r.start))&&u.call(r,this)}catch(S){Se(S)}if(!te(n)){var v=n.subscriptionObserver=new kn(this);try{var g=a(v),b=g;g!=null&&(n.cleanup=typeof g.unsubscribe=="function"?function(){b.unsubscribe()}:vt(g))}catch(S){v.error(S);return}te(n)&&ct(n)}};xn.prototype=ht({},{unsubscribe:function(){var r=Ir(this);te(r)||(cn(r),ct(r))}});Rr&&pi(xn.prototype,"closed",{configurable:!0,get:function(){return te(Ir(this))}});var kn=function(r){Sn(this,{subscription:r}),Rr||(this.closed=!1)};kn.prototype=ht({},{next:function(r){var a=Ir(Ir(this).subscription);if(!te(a)){var n=a.observer;try{var u=Le(n.next);u&&u.call(n,r)}catch(v){Se(v)}}},error:function(r){var a=Ir(Ir(this).subscription);if(!te(a)){var n=a.observer;cn(a);try{var u=Le(n.error);u?u.call(n,r):Se(r)}catch(v){Se(v)}ct(a)}},complete:function(){var r=Ir(Ir(this).subscription);if(!te(r)){var a=r.observer;cn(r);try{var n=Le(a.complete);n&&n.call(a)}catch(u){Se(u)}ct(r)}}});Rr&&pi(kn.prototype,"closed",{configurable:!0,get:function(){return te(Ir(Ir(this).subscription))}});var fe=function(r){Ul(this,fe,"Observable"),Sn(this,{subscriber:vt(r)})};ht(fe.prototype,{subscribe:function(r){var a=arguments.length;return new xn(typeof r=="function"?{next:r,error:a>1?arguments[1]:void 0,complete:a>2?arguments[2]:void 0}:Ar(r)?r:{},Ir(this).subscriber)}});ht(fe,{from:function(r){var a=typeof this=="function"?this:fe,n=Le(Tr(r)[bi]);if(n){var u=Tr(n.call(r));return u.constructor===a?u:new a(function(g){return u.subscribe(g)})}var v=di(r);return new a(function(g){tv(v,function(b,S){if(g.next(b),g.closed)return S()},{IS_ITERATOR:!0,INTERRUPTED:!0}),g.complete()})},of:function(){for(var r=typeof this=="function"?this:fe,a=arguments.length,n=new Array(a),u=0;u<a;)n[u]=arguments[u++];return new r(function(v){for(var g=0;g<a;g++)if(v.next(n[g]),v.closed)return;v.complete()})}});Sr(fe.prototype,bi,function(){return this});si({global:!0},{Observable:fe});ql("Observable");var lv=Pr,vv={f:lv},hv=Te.f,dv=function(r){var a=kr.Symbol||(kr.Symbol={});wr(a,r)||hv(a,r,{value:vv.f(r)})};dv("observable");var yi=function(r){if(ot(r))throw TypeError("Cannot convert a Symbol value to a string");return String(r)},Po=function(r){return function(a,n){var u=yi(bn(a)),v=wn(n),g=u.length,b,S;return v<0||v>=g?r?"":void 0:(b=u.charCodeAt(v),b<55296||b>56319||v+1===g||(S=u.charCodeAt(v+1))<56320||S>57343?r?u.charAt(v):b:r?u.slice(v,v+2):(b-55296<<10)+(S-56320)+65536)}},gv={codeAt:Po(!1),charAt:Po(!0)},pv=Math.max,bv=Math.min,yv=function(r,a){var n=wn(r);return n<0?pv(n+a,0):bv(n,a)},Oo=function(r){return function(a,n,u){var v=st(a),g=gi(v.length),b=yv(u,g),S;if(r&&n!=n){for(;g>b;)if(S=v[b++],S!=S)return!0}else for(;g>b;b++)if((r||b in v)&&v[b]===n)return r||b||0;return!r&&-1}},mv={includes:Oo(!0),indexOf:Oo(!1)},wv=mv.indexOf,$v=function(r,a){var n=st(r),u=0,v=[],g;for(g in n)!wr(_n,g)&&wr(n,g)&&v.push(g);for(;a.length>u;)wr(n,g=a[u++])&&(~wv(v,g)||v.push(g));return v},fn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_v=Object.keys||function(r){return $v(r,fn)},Sv=Rr?Object.defineProperties:function(r,a){Tr(r);for(var n=_v(a),u=n.length,v=0,g;u>v;)Te.f(r,g=n[v++],a[g]);return r},xv=lt("document","documentElement"),Mo=">",Co="<",sn="prototype",ln="script",mi=$n("IE_PROTO"),Vt=function(){},wi=function(r){return Co+ln+Mo+r+Co+"/"+ln+Mo},jo=function(r){r.write(wi("")),r.close();var a=r.parentWindow.Object;return r=null,a},kv=function(){var r=ci("iframe"),a="java"+ln+":",n;return r.style.display="none",xv.appendChild(r),r.src=String(a),n=r.contentWindow.document,n.open(),n.write(wi("document.F=Object")),n.close(),n.F},Qe,tt=function(){try{Qe=new ActiveXObject("htmlfile")}catch{}tt=typeof document<"u"?document.domain&&Qe?jo(Qe):kv():jo(Qe);for(var r=fn.length;r--;)delete tt[sn][fn[r]];return tt()};_n[mi]=!0;var $i=Object.create||function(r,a){var n;return r!==null?(Vt[sn]=Tr(r),n=new Vt,Vt[sn]=null,n[mi]=r):n=tt(),a===void 0?n:Sv(n,a)},Tv=!se(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype}),Io=$n("IE_PROTO"),Pv=Object.prototype,vn=Tv?Object.getPrototypeOf:function(i){return i=oi(i),wr(i,Io)?i[Io]:typeof i.constructor=="function"&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?Pv:null},hn=Pr("iterator"),_i=!1,Wr,Xt,Ht;[].keys&&(Ht=[].keys(),"next"in Ht?(Xt=vn(vn(Ht)),Xt!==Object.prototype&&(Wr=Xt)):_i=!0);var Ov=Wr==null||se(function(){var i={};return Wr[hn].call(i)!==i});Ov?Wr={}:Wr=$i(Wr);typeof Wr[hn]!="function"&&Sr(Wr,hn,function(){return this});var Si={IteratorPrototype:Wr,BUGGY_SAFARI_ITERATORS:_i},Mv=yn?{}.toString:function(){return"[object "+mn(this)+"]"},Cv=Te.f,Eo=Pr("toStringTag"),xi=function(r,a,n,u){if(r){var v=n?r:r.prototype;wr(v,Eo)||Cv(v,Eo,{configurable:!0,value:a}),u&&!yn&&Sr(v,"toString",Mv)}},jv=Si.IteratorPrototype,Iv=function(){return this},Ev=function(r,a,n){var u=a+" Iterator";return r.prototype=$i(jv,{next:pn(1,n)}),xi(r,u,!1,!0),Vr[u]=Iv,r},Av=function(r){if(!Ar(r)&&r!==null)throw TypeError("Can't set "+String(r)+" as a prototype");return r};Object.setPrototypeOf||"__proto__"in{}&&function(){var i=!1,r={},a;try{a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,a.call(r,[]),i=r instanceof Array}catch{}return function(u,v){return Tr(u),Av(v),i?a.call(u,v):u.__proto__=v,u}}();var rt=Si.BUGGY_SAFARI_ITERATORS,Kt=Pr("iterator"),Ao="keys",et="values",Ro="entries",Rv=function(){return this},ki=function(r,a,n,u,v,g,b){Ev(n,a,u);var S=function(V){if(V===v&&E)return E;if(!rt&&V in L)return L[V];switch(V){case Ao:return function(){return new n(this,V)};case et:return function(){return new n(this,V)};case Ro:return function(){return new n(this,V)}}return function(){return new n(this)}},k=a+" Iterator",I=!1,L=r.prototype,K=L[Kt]||L["@@iterator"]||v&&L[v],E=!rt&&K||S(v),z=a=="Array"&&L.entries||K,$,F,ir;if(z&&($=vn(z.call(new r)),$!==Object.prototype&&$.next&&(xi($,k,!0,!0),Vr[k]=Rv)),v==et&&K&&K.name!==et&&(I=!0,E=function(){return K.call(this)}),b&&L[Kt]!==E&&Sr(L,Kt,E),Vr[a]=E,v)if(F={values:S(et),keys:g?E:S(Ao),entries:S(Ro)},b)for(ir in F)(rt||I||!(ir in L))&&li(L,ir,F[ir]);else si({target:a,proto:!0,forced:rt||I},F);return F},Nv=gv.charAt,Ti="String Iterator",Fv=Pe.set,Lv=Pe.getterFor(Ti);ki(String,"String",function(i){Fv(this,{type:Ti,string:yi(i),index:0})},function(){var r=Lv(this),a=r.string,n=r.index,u;return n>=a.length?{value:void 0,done:!0}:(u=Nv(a,n),r.index+=u.length,{value:u,done:!1})});var Pi="Array Iterator",zv=Pe.set,Gv=Pe.getterFor(Pi);ki(Array,"Array",function(i,r){zv(this,{type:Pi,target:st(i),index:0,kind:r})},function(){var i=Gv(this),r=i.target,a=i.kind,n=i.index++;return!r||n>=r.length?(i.target=void 0,{value:void 0,done:!0}):a=="keys"?{value:n,done:!1}:a=="values"?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values");Vr.Arguments=Vr.Array;var Bv={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},No=Pr("toStringTag");for(var Zt in Bv){var Fo=dr[Zt],Jt=Fo&&Fo.prototype;Jt&&mn(Jt)!==No&&Sr(Jt,No,Zt),Vr[Zt]=Vr.Array}var Dv=kr.Observable,qv=function(i){Us(r,i);function r(n){return i.call(this,n||Vo)||this}var a=r.prototype;return a.pipe=function(){for(var u=arguments.length,v=new Array(u),g=0;g<u;g++)v[g]=arguments[g];return Ws(v)(this)},a.lift=function(u){var v=this;return new r(function(g){return u.call(g,v)})},a["@@observable"]=function(){return this},r}(Dv),Uv=function(r){return function(a,n,u){return u>=r?n:a}},Yv=function(r){return function(a,n,u){return n.map(function(v,g){return r(a[g],v,u)})}},Wv=function(r,a,n){return ft(r,a,n)},Vv=Yv(ft),Xv=function(r,a,n){return Ys(r,function(u,v){return ft(u,a[v],n)})},Hv=function(r,a,n){if(n<=0)return r;var u=ft(0,a.length,n)|0;return a.substr(0,u)},Kv=Uv(1),Zv={number:{type:"number",default:0,interpolator:Wv},string:{type:"string",default:"",interpolator:Hv},boolean:{type:"boolean",default:!1,interpolator:Kv},array:{type:"array",default:[],interpolator:Vv},object:{type:"object",default:{},interpolator:Xv}},Jv={};function Qv(i){var r=Zv[i]||Jv[i];if(!r)throw new Error("Unrecognized type "+i);return r}["value"].concat(Object.keys(Qv("object")));var Ae;typeof window<"u"?Ae=window:typeof xe<"u"?Ae=xe:typeof self<"u"?Ae=self:Ae={};var r0=Ae,e0=function(i){return i.requestAnimationFrame||function(r){var a=setTimeout(r,16);return a.unref&&a.unref(),a}}(r0),ke=[];function Oi(){var i=ke.length;if(i!==0){e0(Oi);for(var r=Xo(),a=0;a<i;a++){var n=ke[a];n&&n(r)}}}function t0(i){ke.push(i),ke.length===1&&Oi()}function n0(i){var r=ke.indexOf(i);ke.splice(r,1)}function a0(){return new qv(function(i){var r=Xo(),a=function(u){return i.next(u-r)};return t0(a),function(){n0(a)}})}/**
 * view-draw 0.0.4
 * @license GPL-3.0
 * Copyright 2021-present Jasper Palfree
 */var Lo=function(r,a,n){return r*(1-n)+a*n},zo=function(r,a,n){var u=a-r;return u?(n-r)/u:1},o0=function(r,a){var n=r[0],u=r[1],v=a[0],g=a[1];return v-=n,g-=u,Math.atan2(g,v)},Go=function(r,a){return[Lo(a[0],a[1],r[0]),Lo(a[2],a[3],r[1])]},Bo=function(r,a){return[zo(a[0],a[1],r[0]),zo(a[2],a[3],r[1])]},Tn=function(r,a){var n=r.name,u=r.to,v=r.from;a===void 0&&(a=[0,1,0,1]);var g={name:n,to:u,from:v,viewbox:a};return g.toCameraSize=function(b,S){var k=b[1]-b[0];return k*S/(g.viewbox[1]-g.viewbox[0])},g.fromCameraSize=function(b,S){var k=b[1]-b[0];return(g.viewbox[1]-g.viewbox[0])*S/k},g.toCamera=function(b,S){return Go(u(Bo(S,g.viewbox)),b)},g.fromCamera=function(b,S){return Go(v(Bo(S,b)),g.viewbox)},g},Do=Math.PI*2,Pn={to:function(r){return r},from:function(r){return r}},i0={to:function(r){var a=r[0],n=r[1];n*=Do;var u=a*Math.cos(n),v=a*Math.sin(n);return[u,v]},from:function(r){var a=r[0],n=r[1],u=Math.sqrt(a*a+n*n),v=Math.atan2(n,a);return[u,v/Do]}},u0=Object.freeze({__proto__:null,makeProjection:Tn,cartesian:Pn,polar:i0});function c0(i){for(var r=0,a=0,n=i.length,u=0;u<n;u++){var v=i[u];r+=v[0],a+=v[1]}return[r/n,a/n]}function f0(i,r,a,n){n===void 0&&(n=!0);var u=Math.max(i,r,a);if(u===i){var v=[a,i];i=v[0],a=v[1]}else if(u===r){var g=[a,r];r=g[0],a=g[1]}var b=i===0?0:(i*i-r*r+a*a)/(2*a),S=Math.sqrt(i*i-b*b),k=[[0,0],[b,S],[a,0]];if(n)for(var I=c0(k),L=I[0],K=I[1],E=0,z=k.length;E<z;E++)k[E][0]-=L,k[E][1]-=K;return k}var s0=[0,1,0,1],l0=function(){i.create=function(n,u){return u===void 0&&(u={}),new i(n,u)};function i(a,n){this.proj=a,this.projCanonical=Tn(Pn),this.options=n,this.saveStateCount=0,this._internalState=[]}var r=i.prototype;return r.init=function(n,u){n!==this.canvas&&(this.canvas=n,this.ctx=n.getContext("2d")),this._useCanonical=!1,this.width=n.width,this.height=n.height,this.bounds=n.getBoundingClientRect();var v=this.width/this.bounds.width,g=.5*this.width/v,b=.5*this.height/v,S=this.options.scaleMode==="fit"?Math.min(g,b):Math.max(g,b),k=S*u.scale,I=this.proj.toCamera(s0,u.center);return this.cameraBounds=[-I[0]*k+g,(1-I[0])*k+g,-I[1]*k+b,(1-I[1])*k+b],this.worldUnit=[0,S,0,S],this.worldScale=[0,k,0,k],this.ctx.setTransform(v,0,0,v,0,0),this},r.canonical=function(n){return n===void 0&&(n=!0),this._useCanonical=n,this},r.toCamera=function(n){return this._useCanonical?this.projCanonical.toCamera(this.cameraBounds,n):this.proj.toCamera(this.cameraBounds,n)},r.toCameraSize=function(n){return this._useCanonical?this.projCanonical.toCameraSize(this.cameraBounds,n):this.proj.toCameraSize(this.cameraBounds,n)},r.save=function(){return this.saveStateCount++,this._internalState.push({_useCanonical:this._useCanonical}),this.ctx.save(),this},r.restore=function(){this.ctx.restore();var n=this._internalState.pop();return Object.assign(this,n),this.saveStateCount=Math.max(this.saveStateCount-1,0),this},r.end=function(){this.saveStateCount&&window.console.warn("Warning: Forgot to call restore() after save().")},r.clear=function(){return this.ctx.clearRect(0,0,this.width,this.height),this},r.color=function(n){return n?(this.ctx.fillStyle!==n&&(this.ctx.fillStyle=n),this.ctx.strokeStyle!==n&&(this.ctx.strokeStyle=n),this):this},r.style=function(n,u){if(u!==void 0&&u)return this.ctx[n]=u,this;for(var v in n){var g=n[v];this.ctx[v]!==g&&g&&(this.ctx[v]=g)}return this},r.translate=function(n){var u=this.ctx,v=this._useCanonical?this.projCanonical.toCamera(this.worldScale,n):this.proj.toCamera(this.worldScale,n),g=v[0],b=v[1];return u.translate(g,b),this},r.rotate=function(n){var u=this.toCamera([0,0]);return this.ctx.translate(u[0],u[1]),this.ctx.rotate(n),this.ctx.translate(-u[0],-u[1]),this},r.dot=function(n,u){u===void 0&&(u=1);var v=this.ctx,g=this.toCamera(n),b=g[0],S=g[1];return v.beginPath(),v.arc(b,S,u,0,2*Math.PI),v.fill(),this},r.paint=function(n,u){n===void 0&&(n=!0),u===void 0&&(u=0);var v=this.ctx;return n&&v.fill(),u&&(this.style("lineWidth",u),v.stroke()),this},r.text=function(n,u,v){var g=v===void 0?{}:v,b=g.font,S=b===void 0?"12px monospace":b,k=g.textAlign,I=k===void 0?"center":k,L=this.toCamera(u),K=L[0],E=L[1];return this.style("font",S).style("textAlign",I),this.ctx.fillText(n,K,E),this},r.arrow=function(n,u,v){var g=v===void 0?{}:v,b=g.stroke,S=b===void 0?1:b,k=g.scaleHead,I=k===void 0?!1:k,L=g.headSize,K=L===void 0?6:L,E=g.headColor;this.path([n,u],!1,!1,S);var z=this.proj.fromCameraSize(I?this.worldUnit:this.cameraBounds,K);this.save(),this.translate(u),this.color(E);var $=this.toCamera(n),F=this.toCamera(u),ir=o0($,F);return this.rotate(ir),this.canonical(!0),this.path([[0,0],[-z,z],[-z,-z]],!0,!0),this.restore(),this},r.circle=function(n,u,v,g){v===void 0&&(v=!0),g===void 0&&(g=0);var b=this.ctx,S=this.toCamera(n),k=S[0],I=S[1];return u=this.toCameraSize(u),b.beginPath(),b.arc(k,I,u,0,2*Math.PI),this.paint(v,g),this},r.path=function(n,u,v,g){if(u===void 0&&(u=!1),!n.length)return this;var b=this.ctx;b.beginPath();var S=this.toCamera(n[0]);b.moveTo(S[0],S[1]);for(var k=1,I=n.length;k<I;k++)S=this.toCamera(n[k]),b.lineTo(S[0],S[1]);return u&&b.closePath(),this.paint(v,g),this},r.triangle=function(n,u,v,g,b,S,k){var I=g===void 0?[0,0]:g,L=I[0],K=I[1];b===void 0&&(b=0);var E=f0(n,u,v);return this.save(),this.translate([L,K]),this.rotate(b),this.canonical(!0),this.path(E,!0,S,k),this.restore(),this},i}();function v0(i,r,a,n){n===void 0&&(n={scaleMode:"fit"}),typeof i=="string"?i=u0[i]:i!=="object"&&(a=r,r=i,i=Pn),Array.isArray(r)||(a=r,r=void 0);var u=Tn(i,r),v={center:[0,0],scale:1,proj:u},g=l0.create(u,n);return v.toViewCoords=function(b,S,k){return k===void 0&&(k=!1),g.init(S,v),u.fromCamera(k?g.worldUnit:g.cameraBounds,b)},v.getMousePos=function(b,S,k){k===void 0&&(k=!1),g.init(S,v);var I=[b.clientX-g.bounds.left,b.clientY-g.bounds.top];return v.toViewCoords(I,S,k)},v.camera=function(b,S){return S===void 0&&(S=1),v.center=b,v.scale=S,v},v.draw=function(b){g.init(b,v),g.clear();for(var S=arguments.length,k=new Array(S>1?S-1:0),I=1;I<S;I++)k[I-1]=arguments[I];return a.apply(void 0,[g].concat(k)),g.end(),v},v.drawOver=function(b){g.init(b,v);for(var S=arguments.length,k=new Array(S>1?S-1:0),I=1;I<S;I++)k[I-1]=arguments[I];return a.apply(void 0,[g].concat(k)),g.end(),v},v.setViewbox=function(b){return u.viewbox=b,v},v}function h0(i){var r=i===void 0?{}:i,a=r.autoResize,n=a===void 0?!0:a,u=r.pixelRatio,v=u===void 0?window.devicePixelRatio||1:u,g=r.width,b=g===void 0?0:g,S=r.height,k=S===void 0?0:S,I=r.aspectRatio,L=I===void 0?null:I,K=r.el,E=K===void 0?document.body:K,z=r.background,$=z===void 0?"hsl(0, 0%, 10%)":z,F=r.onResize,ir=F===void 0?function(){}:F,Z=E.tagName==="CANVAS"?E:document.createElement("canvas"),V=Z.getContext("2d"),tr={w:!b,h:!k},$r={};Z.style.display="flex",Z.style.background=$,Z.style.transform="scale("+1/v+")",Z.style.transformOrigin="top left",E.tagName!=="CANVAS"&&E.appendChild(Z);var R=function(){var ur=Z.parentNode;!ur||(tr.w&&(b=ur.clientWidth),tr.h&&(L?k=b/L:k=ur.clientHeight),$r.width=b,$r.height=k,Z.style.marginBottom=(1-v)*k+"px",Z.width=v*b,Z.height=v*k,V.scale(v,v),ir($r))};n&&window.addEventListener("resize",R),R();var Xr=function(){n&&window.removeEventListener("resize",R),Z.parentNode&&Z.parentNode.removeChild(Z)};return{canvas:Z,ctx:V,destroy:Xr,dimensions:$r,refresh:R}}/**
 * vector 0.0.2
 * @license GPL-3.0
 * Copyright 2022-present Jasper Palfree
 */function qo(i,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function d0(i,r,a){return r&&qo(i.prototype,r),a&&qo(i,a),Object.defineProperty(i,"prototype",{writable:!1}),i}function g0(i,r,a,n,u,v){i.save(),i.strokeStyle=v,i.fillStyle=v,i.lineWidth=2,i.translate(r,a),i.rotate(u),i.beginPath(),i.moveTo(0,0),i.lineTo(n,0),i.stroke(),i.lineTo(n-6,6),i.lineTo(n-6,-6),i.lineTo(n,0),i.fill(),i.restore()}var br=function(){function i(a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),!(this instanceof i))return new i(a,n);if(this.isVector=!0,n!==void 0)this.set(a,n);else if(Array.isArray(a))this.copyArray(a);else if(typeof a=="object")this.copy(a);else throw new Error("Invalid value for vector constructor")}i.create=function(n,u){return new i(n,u)},i.isVector=function(n){return n&&n.isVector===!0};var r=i.prototype;return r.hasNaN=function(){return Number.isNaN(this.x)||Number.isNaN(this.y)},r.clone=function(){return new i(this.x,this.y)},r.copy=function(n){return this.set(n.x,n.y)},r.copyX=function(n){return this.x=n.x,this},r.copyY=function(n){return this.y=n.y,this},r.copyArray=function(n){var u=n[0],v=n[1];return this.set(u,v)},r.set=function(n,u){return this.x=n,this.y=u,this},r.fixNaN=function(){return Number.isNaN(this.x)&&(this.x=0),Number.isNaN(this.y)&&(this.y=0),this},r.invert=function(){return this.x=1/this.x,this.y=1/this.y,this},r.invertX=function(){return this.x=1/this.x,this},r.invertY=function(){return this.y=1/this.y,this},r.add=function(n){return this.x+=n.x,this.y+=n.y,this},r.addX=function(n){return this.x+=n.x,this},r.addY=function(n){return this.y+=n.y,this},r.plus=function(n){return this.clone().add(n)},r.subtract=function(n){return this.x-=n.x,this.y-=n.y,this},r.subtractX=function(n){return this.x-=n.x,this},r.subtractY=function(n){return this.y-=n.y,this},r.minus=function(n){return this.clone().subtract(n)},r.multiply=function(n,u){return this.x*=n,this.y*=u===void 0?n:u,this},r.times=function(n,u){return this.clone().multiply(n,u)},r.divide=function(n,u){return this.x/=n,this.y/=u===void 0?n:u,this},r.dividedBy=function(n,u){return this.clone().divide(n,u)},r.normSq=function(){return this.x*this.x+this.y*this.y},r.norm=function(){return Math.sqrt(this.normSq())},r.setNorm=function(n){var u=this.norm();return u===n?this:(u===0&&(u=1,this.x=1,this.y=0),n/=u,this.x*=n,this.y*=n,this)},r.normalize=function(){return this.setNorm(1)},r.distanceSqTo=function(n){var u=n.x-this.x,v=n.y-this.y;return u*u+v*v},r.distanceTo=function(n){return Math.sqrt(this.distanceSqTo(n))},r.angle=function(){return Math.atan2(this.y,this.x)},r.setAngle=function(n){var u=this.norm();return u===0&&(u=1,this.x=1,this.y=0),this.x=u*Math.cos(n),this.y=u*Math.sin(n),this},r.rotateBy=function(n){return this.setAngle(this.angle()+n)},r.dot=function(n){return this.x*n.x+this.y*n.y},r.cross=function(n){return this.x*n.y-this.y*n.x},r.projectTo=function(n){var u=this.dot(n);return this.copy(n).setNorm(u)},r.projection=function(n){var u=n.clone().normalize();return u.multiply(this.dot(u))},r.projectToClamped=function(n){return this.projectTo(n).clampNormUpper(n.norm())},r.projectionScalar=function(n){return this.dot(n)/n.norm()},r.projectionClamped=function(n){var u=n.norm(),v=n.clone().normalize();return v.multiply(Math.min(u,Math.max(0,this.dot(v))))},r.clampX=function(n,u){return n===void 0&&(n=0),u===void 0&&(u=1),this.x=Math.max(n,Math.min(u,this.x)),this},r.clampXLower=function(n){return n===void 0&&(n=0),this.x=Math.max(n,this.x),this},r.clampXUpper=function(n){return n===void 0&&(n=1),this.x=Math.min(n,this.x),this},r.clampY=function(n,u){return n===void 0&&(n=0),u===void 0&&(u=1),this.y=Math.max(n,Math.min(u,this.y)),this},r.clampYLower=function(n){return n===void 0&&(n=0),this.y=Math.max(n,this.y),this},r.clampYUpper=function(n){return n===void 0&&(n=1),this.y=Math.min(n,this.y),this},r.clamp=function(n,u){return n===void 0&&(n=0),u===void 0&&(u=1),this.clampX(n.x,u.x).clampY(n.y,u.y)},r.clampLower=function(n){return n===void 0&&(n={x:0,y:0}),this.clampXLower(n.x).clampYLower(n.y)},r.clampUpper=function(n){return n===void 0&&(n={x:1,y:1}),this.clampXUpper(n.x).clampYUpper(n.y)},r.clampNorm=function(n,u){n===void 0&&(n=0),u===void 0&&(u=1);var v=this.norm(),g=Math.max(n,Math.min(u,v));return this.setNorm(g)},r.clampNormLower=function(n){n===void 0&&(n=0);var u=this.norm(),v=Math.max(n,u);return this.setNorm(v)},r.clampNormUpper=function(n){n===void 0&&(n=1);var u=this.norm(),v=Math.min(n,u);return this.setNorm(v)},r.clampAngle=function(n,u){n===void 0&&(n=0),u===void 0&&(u=2*Math.PI);var v=this.angle(),g=Math.max(n,Math.min(u,v));return g===v?this:this.setAngle(g)},r.clampAngleLower=function(n){n===void 0&&(n=0);var u=this.angle(),v=Math.max(n,u);return v===u?this:this.setAngle(v)},r.clampAngleUpper=function(n){n===void 0&&(n=2*Math.PI);var u=this.angle(),v=Math.min(n,u);return v===u?this:this.setAngle(v)},r.reflect=function(n){var u=n.normSq();return this.subtract(n.times(2*this.dot(n)/u))},r.reflection=function(n){return this.copy().reflect(n)},r.randomize=function(n){return n===void 0&&(n=1),this.setNorm(n).setAngle(2*Math.PI*Math.random())},r.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},r.floor=function(){return this.x=this.x|0,this.y=this.y|0,this},r.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},r.toString=function(){return"("+this.x+", "+this.y+")"},r.toJSON=function(){return{x:this.x,y:this.y}},r.toArray=function(){return[this.x,this.y]},r.drawTo=function(n,u){var v=u===void 0?{}:u,g=v.offset,b=g===void 0?null:g,S=v.scale,k=S===void 0?1:S,I=v.withComponents,L=I===void 0?!1:I,K=v.color,E=K===void 0?"grey":K,z=v.xcolor,$=z===void 0?"tomato":z,F=v.ycolor,ir=F===void 0?"gold":F,Z=this.angle(),V=k*this.norm(),tr=b?b.x:0,$r=b?b.y:0;if(L){n.save(),n.strokeStyle=$,n.translate(tr,$r),n.beginPath();var R=k*this.y;n.moveTo(0,R),n.lineTo(k*this.x,R),n.stroke(),n.strokeStyle=ir,n.beginPath(),n.moveTo(0,0),n.lineTo(0,R),n.stroke(),n.restore()}g0(n,tr,$r,V,Z,E)},d0(i,[{key:"0",get:function(){return this.x}},{key:"1",get:function(){return this.y}}]),i}();br.Zero=br(0,0);br.AxisX=br(1,0);br.AxisY=br(0,1);const p0={class:"playground"},b0={__name:"Playground",setup(i){br.prototype.equals=function(y){return y.x===this.x&&y.y===this.y};const r=Math.PI/180,a=Ns(null),n=v0([0,100,0,100],(y,x)=>{var P,j;y.color(C.light),y.text("hold alt/option to rotate",[0,-80]),x.objects.sort((A,G)=>A.isInside?-1:1);for(const A of x.objects)A.draw(y,x);if((P=x.intersection)!=null&&P.xingPt){y.color(C.ivory),y.circle((j=x.intersection)==null?void 0:j.xingPt,1);const A=br.create();x.intersection.segments.forEach((G,Y)=>{y.color(C.yellow),A.copy(G[1]).subtract(G[0]).setNorm(1.5).rotateBy(90*r),y.text(`${Y}`,G[0].plus(A)),y.text(`${Y}`,G[1].plus(A))}),y.ctx.setLineDash([10,10]),y.color(C.yellow).style({}).path(x.intersection.innerSegment,!1,!1,2),y.ctx.setLineDash([])}}),u={pos:br.create(0,0),r:10,color:Wo.yellow,canGrab(y){return this.r>this.pos.distanceTo(y)},constrain({width:y,height:x}){const P=y/x,j=P>1?P:1,A=P<1?1/P:1,G=(100-this.r)*j,Y=(100-this.r)*A;this.pos.clampX(-G,G),this.pos.clampY(-Y,Y)},draw(y){y.color(this.color),y.circle(this.pos,this.r)}},v=(y,x)=>{const P=y[0],j=y[1].clone().subtract(P);return x.clone().subtract(P).projectionClamped(j).add(P)},g=(y,x)=>v(y,x).subtract(x),b=(y,x,P=1e-8)=>{const j=Math.abs(y+x);return Math.abs(y-x)/j<P},S=(y,x)=>{const P=y[0].x,j=y[0].y,A=y[1].x,G=y[1].y,Y=x[0].x,lr=x[0].y,or=x[1].x,yr=x[1].y,Br=(P-A)*(lr-yr)-(j-G)*(Y-or);if(Br==0)return null;const xr=((Y-or)*(P*G-j*A)-(P-A)*(Y*yr-lr*or))/Br;if(!b(P,A)&&(xr<Math.min(P,A)||xr>Math.max(P,A))||!b(Y,or)&&(xr<Math.min(Y,or)||xr>Math.max(Y,or)))return null;const fr=((lr-yr)*(P*G-j*A)-(j-G)*(Y*yr-lr*or))/Br;return!b(j,G)&&(fr<Math.min(j,G)||fr>Math.max(j,G))||!b(lr,yr)&&(fr<Math.min(lr,yr)||fr>Math.max(lr,yr))?null:br.create(xr,fr)},k=(y,x,P)=>{const j=y,A=x,G=j[1].minus(j[0]),Y=A[1].minus(A[0]);P.subtract(j[0]).rotateBy(Y.angle()-G.angle()),P.add(A[0])},I=(y,x,P)=>{const[j,A]=y,G=P[j],Y=P[j^1];k(G.line,Y.line,x)},L=y=>y[1].plus(y[0]).multiply(.5),K=(y,x)=>[[y[0].clone(),x.clone()],[x.clone(),y[1].clone()]],E=y=>y[1].minus(y[0]),z=(y,x)=>{const P=x.minus(y[0]).cross(E(y));return P>0?1:P<0?-1:0},$=(y,x,P)=>{const j=S(y,x);if(!j){const lr=z(y,x[0]),or=z(y,x[1]);return lr===P&&or===P?{inside:x,outside:null,xingPt:null}:{inside:null,outside:x,xingPt:null}}const[A,G]=K(x,j);return z(y,L(A))===P?{inside:A,outside:G,xingPt:j}:{inside:G,outside:A,xingPt:j}},F=(y,x,P,j,A=200)=>{if(A<0)return z(y,L(P))===j?[]:[P];const{inside:G,outside:Y,xingPt:lr}=$(y,P,j);if(!G)return[Y];k(y,x,G[0]),k(y,x,G[1]);const or=F(y,x,G,j,A-1);return Y?[Y,...or]:or},ir=([y,x])=>{const P=y.line,j=x.line,A=S(P,j);if(y.xingPt=x.xingPt=A,!A)return y.isInside=x.isInside=!1,null;if(!(y.isInside||x.isInside)){const fr=A.distanceTo(P[0]),Dr=A.distanceTo(P[1]),qr=Math.min(fr,Dr),Or=A.distanceTo(j[0]),Nr=A.distanceTo(j[1]),pt=Math.min(Or,Nr),le=qr>pt;x.isInside=le,x.insideEnd=x.isInside&&(Or<Nr?0:1),y.isInside=!le,y.insideEnd=y.isInside&&(fr<Dr?0:1)}const[Y,lr]=x.isInside?[x,y]:[y,x],or=x.isInside?x.insideEnd:y.insideEnd,yr=z(lr.line,Y.line[Y.insideEnd]),Br=[Y.line[or],A],xr=F(lr.line,Y.line,Y.line,yr);return{exit:Y,entrance:lr,innerSegment:Br,xingPt:A,chirality:yr,segments:xr}},Z=(y,x,P,j)=>{const G=br.create(0,x/2),Y=[y.plus(G),y.minus(G)],lr=.3,or=br.create(),[yr,Br]=j==="plus"?[C.blue,C.red]:[C.red,C.blue],xr=(fr,Dr)=>{const[qr,Or]=Dr;fr.color(yr);const Nr=or.copy(qr).subtract(Or).angle();or.set(0,lr).rotateBy(Nr),fr.path([qr.plus(or),Or.plus(or)],!1,!1,4),fr.color(Br),fr.path([qr.minus(or),Or.minus(or)],!1,!1,4)};return{pos:y,ang:P,size:x,isInside:!1,isPortal:!0,get line(){return G.x=0,G.y=this.size/2,G.rotateBy(this.ang*r),Y[0].copy(y).add(G),Y[1].copy(y).subtract(G),Y},canGrab(fr){return g(this.line,fr).norm()<5},constrain(){},draw(fr,Dr){const qr=this.line;if(this.isInside){const Or=Dr.intersection.segments;for(let Nr=Or.length-1;Nr>=0;Nr--)xr(fr,Or[Nr])}else xr(fr,qr)}}},V=[Z(br.create(-30,0),100,0,"plus"),Z(br.create(30,0),100,-34,"minus")],tr={portal:V,objects:[u,...V],intersection:null,windings:[]},$r=(y,x,P)=>{const j=g(y,x),A=g(y,P);if(j.projectionScalar(A)<0){const G=y[1].clone().subtract(y[0]).angle();return j.rotateBy(-G),j.y>0?1:-1}return 0},R=(y,x)=>{let P=$r(V[0].line,y,x);return P?[0,P]:(P=$r(V[1].line,y,x),P?[1,P]:null)},Xr=y=>{const x=[];let P;for(const j of y)P&&P[0]===j[0]^1?(x.pop(),P=x[x.length-1]):(x.push(j),P=j);return x},ar=y=>{const x=a.value,P=n.getMousePos(y,x);return br.create().copyArray(P)};let ur=null,ne=br.create(),Gr=null,Hr=!1;const dt=y=>{const x=ar(y);Gr=x,ur=tr.objects.find(P=>P.canGrab(x)),ur&&ne.copy(ur.pos)},gt=y=>{if(!Gr)return;const x=ar(y);if(ur){const P=ur.pos.clone();if(y.altKey)if(Hr===!1)Gr=x.clone(),ne.copy(ur.pos),Hr=ur.ang*r;else{const A=x.minus(ur.pos).angle()-Gr.minus(ur.pos).angle()+Hr;ur.ang=A/r}else{Hr!==!1&&(Hr=!1,Gr=x.clone(),ne.copy(ur.pos));const A=x.subtract(Gr);ur.pos.copy(A).add(ne)}if(ur.isPortal){tr.intersection=ir(V);return}for(const A of tr.windings)I(A,ur.pos,V);const j=R(P,ur.pos);j&&(tr.windings.push(j),I(j,ur.pos,V),tr.windings=Xr(tr.windings))}},Be=y=>{Gr=null,ur=null,Hr=!1,tr.windings=[]};return Fs(()=>{const y=a.value;window.addEventListener("pointerup",Be);const{destroy:x,dimensions:P}=h0({el:y}),j=a0().subscribe(()=>{tr.objects.forEach(A=>A.constrain(P)),n.draw(y,tr)});Ls(()=>{window.removeEventListener("pointerup",Be),x(),j.unsubscribe()})}),(y,x)=>(zs(),Gs("div",p0,[Bs("canvas",{ref_key:"canvasRef",ref:a,onPointerdown:dt,onPointermove:gt},null,544)]))}},m0=Rs(b0,[["__scopeId","data-v-37e279c4"]]);export{m0 as default};
